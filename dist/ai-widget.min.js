(()=>{var ar=Object.defineProperty;var cr=(e,t)=>{for(var i in t)ar(e,i,{get:t[i],enumerable:!0})};var V=Object.create(null);V.open="0";V.close="1";V.ping="2";V.pong="3";V.message="4";V.upgrade="5";V.noop="6";var we=Object.create(null);Object.keys(V).forEach(e=>{we[V[e]]=e});var Ti={type:"error",data:"parser error"};var lr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hr=typeof ArrayBuffer=="function",ur=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,dr=({type:e,data:t},i,n)=>lr&&t instanceof Blob?i?n(t):Mi(t,n):hr&&(t instanceof ArrayBuffer||ur(t))?i?n(t):Mi(new Blob([t]),n):n(V[e]+(t||"")),Mi=(e,t)=>{let i=new FileReader;return i.onload=function(){let n=i.result.split(",")[1];t("b"+n)},i.readAsDataURL(e)},Ve=dr;var Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Li.length;e++)_e[Li.charCodeAt(e)]=e;var Ri=e=>{let t=e.length*.75,i=e.length,n,r=0,o,a,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);let l=new ArrayBuffer(t),h=new Uint8Array(l);for(n=0;n<i;n+=4)o=_e[e.charCodeAt(n)],a=_e[e.charCodeAt(n+1)],s=_e[e.charCodeAt(n+2)],c=_e[e.charCodeAt(n+3)],h[r++]=o<<2|a>>4,h[r++]=(a&15)<<4|s>>2,h[r++]=(s&3)<<6|c&63;return l};var pr=typeof ArrayBuffer=="function",fr=(e,t)=>{if(typeof e!="string")return{type:"message",data:Bi(e,t)};let i=e.charAt(0);return i==="b"?{type:"message",data:mr(e.substring(1),t)}:we[i]?e.length>1?{type:we[i],data:e.substring(1)}:{type:we[i]}:Ti},mr=(e,t)=>{if(pr){let i=Ri(e);return Bi(i,t)}else return{base64:!0,data:e}},Bi=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},He=fr;var zi=String.fromCharCode(30),Oi=(e,t)=>{let i=e.length,n=new Array(i),r=0;e.forEach((o,a)=>{Ve(o,!1,s=>{n[a]=s,++r===i&&t(n.join(zi))})})},Ii=(e,t)=>{let i=e.split(zi),n=[];for(let r=0;r<i.length;r++){let o=He(i[r],t);if(n.push(o),o.type==="error")break}return n},wt=4;function j(e){if(e)return gr(e)}function gr(e){for(var t in j.prototype)e[t]=j.prototype[t];return e}j.prototype.on=j.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};j.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this};j.prototype.off=j.prototype.removeListener=j.prototype.removeAllListeners=j.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===t||n.fn===t){i.splice(r,1);break}return i.length===0&&delete this._callbacks["$"+e],this};j.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n)i[n].apply(this,t)}return this};j.prototype.emitReserved=j.prototype.emit;j.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};j.prototype.hasListeners=function(e){return!!this.listeners(e).length};var F=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function qe(e,...t){return t.reduce((i,n)=>(e.hasOwnProperty(n)&&(i[n]=e[n]),i),{})}var vr=setTimeout,yr=clearTimeout;function K(e,t){t.useNativeTimers?(e.setTimeoutFn=vr.bind(F),e.clearTimeoutFn=yr.bind(F)):(e.setTimeoutFn=setTimeout.bind(F),e.clearTimeoutFn=clearTimeout.bind(F))}var br=1.33;function Fi(e){return typeof e=="string"?kr(e):Math.ceil((e.byteLength||e.size)*br)}function kr(e){let t=0,i=0;for(let n=0,r=e.length;n<r;n++)t=e.charCodeAt(n),t<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}var _t=class extends Error{constructor(t,i,n){super(t),this.description=i,this.context=n,this.type="TransportError"}},ie=class extends j{constructor(t){super(),this.writable=!1,K(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,i,n){return super.emitReserved("error",new _t(t,i,n)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let i=He(t,this.socket.binaryType);this.onPacket(i)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}};var Vi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ct=64,xr={},Ni=0,Ue=0,Di;function $i(e){let t="";do t=Vi[e%Ct]+t,e=Math.floor(e/Ct);while(e>0);return t}function Ke(){let e=$i(+new Date);return e!==Di?(Ni=0,Di=e):e+"."+$i(Ni++)}for(;Ue<Ct;Ue++)xr[Vi[Ue]]=Ue;function We(e){let t="";for(let i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t}function Hi(e){let t={},i=e.split("&");for(let n=0,r=i.length;n<r;n++){let o=i[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}var qi=!1;try{qi=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Ui=qi;function Et(e){let t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ui))return new XMLHttpRequest}catch{}if(!t)try{return new F[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function wr(){}var _r=function(){return new Et({xdomain:!1}).responseType!=null}(),Ye=class extends ie{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==n}let i=t&&t.forceBase64;this.supportsBinary=_r&&!i}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";let i=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||i()})),this.writable||(n++,this.once("drain",function(){--n||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let i=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Ii(t,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Oi(t,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{},i=this.opts.secure?"https":"http",n="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ke()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(i==="https"&&Number(this.opts.port)!==443||i==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);let r=We(t),o=this.opts.hostname.indexOf(":")!==-1;return i+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new N(this.uri(),t)}doWrite(t,i){let n=this.request({method:"POST",data:t});n.on("success",i),n.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(i,n)=>{this.onError("xhr poll error",i,n)}),this.pollXhr=t}},N=class extends j{constructor(t,i){super(),K(this,i),this.opts=i,this.method=i.method||"GET",this.uri=t,this.async=i.async!==!1,this.data=i.data!==void 0?i.data:null,this.create()}create(){let t=qe(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;let i=this.xhr=new Et(t);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=N.requestsCount++,N.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=wr,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete N.requests[this.index],this.xhr=null}}onLoad(){let t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};N.requestsCount=0;N.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ki);else if(typeof addEventListener=="function"){let e="onpagehide"in F?"pagehide":"unload";addEventListener(e,Ki,!1)}}function Ki(){for(let e in N.requests)N.requests.hasOwnProperty(e)&&N.requests[e].abort()}var Wi=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,i)=>i(t,0))(),Ce=F.WebSocket||F.MozWebSocket,Ge=!0,Yi="arraybuffer";var Gi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Je=class extends ie{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let t=this.uri(),i=this.opts.protocols,n=Gi?{}:qe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ge&&!Gi?i?new Ce(t,i):new Ce(t):new Ce(t,i,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||Yi,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let i=0;i<t.length;i++){let n=t[i],r=i===t.length-1;Ve(n,this.supportsBinary,o=>{let a={};Ge||(n.options&&(a.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof o=="string"?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(a.compress=!1));try{Ge?this.ws.send(o):this.ws.send(o,a)}catch{}r&&Wi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{},i=this.opts.secure?"wss":"ws",n="";this.opts.port&&(i==="wss"&&Number(this.opts.port)!==443||i==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ke()),this.supportsBinary||(t.b64=1);let r=We(t),o=this.opts.hostname.indexOf(":")!==-1;return i+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!Ce}};var jt={websocket:Je,polling:Ye};var Cr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Er=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function fe(e){let t=e,i=e.indexOf("["),n=e.indexOf("]");i!=-1&&n!=-1&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length));let r=Cr.exec(e||""),o={},a=14;for(;a--;)o[Er[a]]=r[a]||"";return i!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=jr(o,o.path),o.queryKey=Ar(o,o.query),o}function jr(e,t){let i=/\/{2,9}/g,n=t.replace(i,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&n.splice(0,1),t.substr(t.length-1,1)=="/"&&n.splice(n.length-1,1),n}function Ar(e,t){let i={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,o){r&&(i[r]=o)}),i}var z=class extends j{constructor(t,i={}){super(),t&&typeof t=="object"&&(i=t,t=null),t?(t=fe(t),i.hostname=t.host,i.secure=t.protocol==="https"||t.protocol==="wss",i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=fe(i.host).host),K(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Hi(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let i=Object.assign({},this.opts.query);i.EIO=wt,i.transport=t,this.id&&(i.sid=this.id);let n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new jt[t](n)}open(){let t;if(this.opts.rememberUpgrade&&z.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(t){let i=this.createTransport(t),n=!1;z.priorWebsocketSuccess=!1;let r=()=>{n||(i.send([{type:"ping",data:"probe"}]),i.once("packet",u=>{if(!n)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;z.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{let d=new Error("probe error");d.transport=i.name,this.emitReserved("upgradeError",d)}}))};function o(){n||(n=!0,h(),i.close(),i=null)}let a=u=>{let d=new Error("probe error: "+u);d.transport=i.name,o(),this.emitReserved("upgradeError",d)};function s(){a("transport closed")}function c(){a("socket closed")}function l(u){i&&u.name!==i.name&&o()}let h=()=>{i.removeListener("open",r),i.removeListener("error",a),i.removeListener("close",s),this.off("close",c),this.off("upgrading",l)};i.once("open",r),i.once("error",a),i.once("close",s),this.once("close",c),this.once("upgrading",l),i.open()}onOpen(){if(this.readyState="open",z.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0,i=this.upgrades.length;for(;t<i;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let i=new Error("server error");i.code=t.data,this.onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let n=0;n<this.writeBuffer.length;n++){let r=this.writeBuffer[n].data;if(r&&(i+=Fi(r)),n>0&&i>this.maxPayload)return this.writeBuffer.slice(0,n);i+=2}return this.writeBuffer}write(t,i,n){return this.sendPacket("message",t,i,n),this}send(t,i,n){return this.sendPacket("message",t,i,n),this}sendPacket(t,i,n,r){if(typeof i=="function"&&(r=i,i=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:t,data:i,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){let t=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},n=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){z.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,i){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let i=[],n=0,r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&i.push(t[n]);return i}};z.protocol=wt;var yc=z.protocol;function Ji(e,t="",i){let n=e;i=i||typeof location<"u"&&location,e==null&&(e=i.protocol+"//"+i.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=i.protocol+e:e=i.host+e),/^(https?|wss?):\/\//.test(e)||(typeof i<"u"?e=i.protocol+"//"+e:e="https://"+e),n=fe(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(i&&i.port===n.port?"":":"+n.port),n}var Mt={};cr(Mt,{Decoder:()=>Ae,Encoder:()=>Pt,PacketType:()=>x,protocol:()=>en});var Sr=typeof ArrayBuffer=="function",Pr=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Qi=Object.prototype.toString,Tr=typeof Blob=="function"||typeof Blob<"u"&&Qi.call(Blob)==="[object BlobConstructor]",Mr=typeof File=="function"||typeof File<"u"&&Qi.call(File)==="[object FileConstructor]";function je(e){return Sr&&(e instanceof ArrayBuffer||Pr(e))||Tr&&e instanceof Blob||Mr&&e instanceof File}function Ee(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let i=0,n=e.length;i<n;i++)if(Ee(e[i]))return!0;return!1}if(je(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ee(e.toJSON(),!0);for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&Ee(e[i]))return!0;return!1}function Zi(e){let t=[],i=e.data,n=e;return n.data=At(i,t),n.attachments=t.length,{packet:n,buffers:t}}function At(e,t){if(!e)return e;if(je(e)){let i={_placeholder:!0,num:t.length};return t.push(e),i}else if(Array.isArray(e)){let i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=At(e[n],t);return i}else if(typeof e=="object"&&!(e instanceof Date)){let i={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=At(e[n],t));return i}return e}function Xi(e,t){return e.data=St(e.data,t),e.attachments=void 0,e}function St(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let i=0;i<e.length;i++)e[i]=St(e[i],t);else if(typeof e=="object")for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=St(e[i],t));return e}var en=5,x;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(x||(x={}));var Pt=class{constructor(t){this.replacer=t}encode(t){return(t.type===x.EVENT||t.type===x.ACK)&&Ee(t)?(t.type=t.type===x.EVENT?x.BINARY_EVENT:x.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let i=""+t.type;return(t.type===x.BINARY_EVENT||t.type===x.BINARY_ACK)&&(i+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(i+=t.nsp+","),t.id!=null&&(i+=t.id),t.data!=null&&(i+=JSON.stringify(t.data,this.replacer)),i}encodeAsBinary(t){let i=Zi(t),n=this.encodeAsString(i.packet),r=i.buffers;return r.unshift(n),r}},Ae=class extends j{constructor(t){super(),this.reviver=t}add(t){let i;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(t),i.type===x.BINARY_EVENT||i.type===x.BINARY_ACK?(this.reconstructor=new Tt(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(je(t)||t.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(t),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let i=0,n={type:Number(t.charAt(0))};if(x[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===x.BINARY_EVENT||n.type===x.BINARY_ACK){let o=i+1;for(;t.charAt(++i)!=="-"&&i!=t.length;);let a=t.substring(o,i);if(a!=Number(a)||t.charAt(i)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(i+1)==="/"){let o=i+1;for(;++i&&!(t.charAt(i)===","||i===t.length););n.nsp=t.substring(o,i)}else n.nsp="/";let r=t.charAt(i+1);if(r!==""&&Number(r)==r){let o=i+1;for(;++i;){let a=t.charAt(i);if(a==null||Number(a)!=a){--i;break}if(i===t.length)break}n.id=Number(t.substring(o,i+1))}if(t.charAt(++i)){let o=this.tryParse(t.substr(i));if(Ae.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,i){switch(t){case x.CONNECT:return typeof i=="object";case x.DISCONNECT:return i===void 0;case x.CONNECT_ERROR:return typeof i=="string"||typeof i=="object";case x.EVENT:case x.BINARY_EVENT:return Array.isArray(i)&&i.length>0;case x.ACK:case x.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}},Tt=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let i=Xi(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function O(e,t,i){return e.on(t,i),function(){e.off(t,i)}}var Lr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),me=class extends j{constructor(t,i,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=i,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[O(t,"open",this.onopen.bind(this)),O(t,"packet",this.onpacket.bind(this)),O(t,"error",this.onerror.bind(this)),O(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...i){if(Lr.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');i.unshift(t);let n={type:x.EVENT,data:i};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){let a=this.ids++,s=i.pop();this._registerAckCallback(a,s),n.id=a}let r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,i){let n=this.flags.timeout;if(n===void 0){this.acks[t]=i;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);i.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(r),i.apply(this,[null,...o])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:x.CONNECT,data:t})}):this.packet({type:x.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,i)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case x.CONNECT:if(t.data&&t.data.sid){let r=t.data.sid;this.onconnect(r)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case x.EVENT:case x.BINARY_EVENT:this.onevent(t);break;case x.ACK:case x.BINARY_ACK:this.onack(t);break;case x.DISCONNECT:this.ondisconnect();break;case x.CONNECT_ERROR:this.destroy();let n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){let i=t.data||[];t.id!=null&&i.push(this.ack(t.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let i=this._anyListeners.slice();for(let n of i)n.apply(this,t)}super.emit.apply(this,t)}ack(t){let i=this,n=!1;return function(...r){n||(n=!0,i.packet({type:x.ACK,id:t,data:r}))}}onack(t){let i=this.acks[t.id];typeof i=="function"&&(i.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:x.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let i=this._anyListeners;for(let n=0;n<i.length;n++)if(t===i[n])return i.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let i=this._anyOutgoingListeners;for(let n=0;n<i.length;n++)if(t===i[n])return i.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let i=this._anyOutgoingListeners.slice();for(let n of i)n.apply(this,t.data)}}};function ne(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ne.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-i:e+i}return Math.min(e,this.max)|0};ne.prototype.reset=function(){this.attempts=0};ne.prototype.setMin=function(e){this.ms=e};ne.prototype.setMax=function(e){this.max=e};ne.prototype.setJitter=function(e){this.jitter=e};var ge=class extends j{constructor(t,i){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(i=t,t=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,K(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((n=i.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ne({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=t;let r=i.parser||Mt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var i;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(i=this.backoff)===null||i===void 0||i.setMin(t),this)}randomizationFactor(t){var i;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(i=this.backoff)===null||i===void 0||i.setJitter(t),this)}reconnectionDelayMax(t){var i;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(i=this.backoff)===null||i===void 0||i.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new z(this.uri,this.opts);let i=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let r=O(i,"open",function(){n.onopen(),t&&t()}),o=O(i,"error",a=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",a),t?t(a):n.maybeReconnectOnOpen()});if(this._timeout!==!1){let a=this._timeout;a===0&&r();let s=this.setTimeoutFn(()=>{r(),i.close(),i.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(O(t,"ping",this.onping.bind(this)),O(t,"data",this.ondata.bind(this)),O(t,"error",this.onerror.bind(this)),O(t,"close",this.onclose.bind(this)),O(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,i){let n=this.nsps[t];return n||(n=new me(this,t,i),this.nsps[t]=n),n}_destroy(t){let i=Object.keys(this.nsps);for(let n of i)if(this.nsps[n].active)return;this._close()}_packet(t){let i=this.encoder.encode(t);for(let n=0;n<i.length;n++)this.engine.write(i[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let i=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},i);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Se={};function Pe(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};let i=Ji(e,t.path||"/socket.io"),n=i.source,r=i.id,o=i.path,a=Se[r]&&o in Se[r].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||a,c;return s?c=new ge(n,t):(Se[r]||(Se[r]=new ge(n,t)),c=Se[r]),i.query&&!t.query&&(t.query=i.queryKey),c.socket(i.path,t)}Object.assign(Pe,{Manager:ge,Socket:me,io:Pe,connect:Pe});var Qe;function hn(e){return Qe=Qe||document.createElement("textarea"),Qe.innerHTML="&"+e+";",Qe.value}var Rr=Object.prototype.hasOwnProperty;function Br(e,t){return e?Rr.call(e,t):!1}function un(e){var t=[].slice.call(arguments,1);return t.forEach(function(i){if(!!i){if(typeof i!="object")throw new TypeError(i+"must be object");Object.keys(i).forEach(function(n){e[n]=i[n]})}}),e}var zr=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Te(e){return e.indexOf("\\")<0?e:e.replace(zr,"$1")}function dn(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function It(e){if(e>65535){e-=65536;var t=55296+(e>>10),i=56320+(e&1023);return String.fromCharCode(t,i)}return String.fromCharCode(e)}var Or=/&([a-z#][a-z0-9]{1,31});/gi,Ir=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function Fr(e,t){var i=0,n=hn(t);return t!==n?n:t.charCodeAt(0)===35&&Ir.test(t)&&(i=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),dn(i))?It(i):e}function re(e){return e.indexOf("&")<0?e:e.replace(Or,Fr)}var Nr=/[&<>"]/,Dr=/[&<>"]/g,$r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Vr(e){return $r[e]}function B(e){return Nr.test(e)?e.replace(Dr,Vr):e}var g={};g.blockquote_open=function(){return`<blockquote>
`};g.blockquote_close=function(e,t){return"</blockquote>"+oe(e,t)};g.code=function(e,t){return e[t].block?"<pre><code>"+B(e[t].content)+"</code></pre>"+oe(e,t):"<code>"+B(e[t].content)+"</code>"};g.fence=function(e,t,i,n,r){var o=e[t],a="",s=i.langPrefix,c="",l,h,u;if(o.params){if(l=o.params.split(/\s+/g),h=l.join(" "),Br(r.rules.fence_custom,l[0]))return r.rules.fence_custom[l[0]](e,t,i,n,r);c=B(re(Te(h))),a=' class="'+s+c+'"'}return i.highlight?u=i.highlight.apply(i.highlight,[o.content].concat(l))||B(o.content):u=B(o.content),"<pre><code"+a+">"+u+"</code></pre>"+oe(e,t)};g.fence_custom={};g.heading_open=function(e,t){return"<h"+e[t].hLevel+">"};g.heading_close=function(e,t){return"</h"+e[t].hLevel+`>
`};g.hr=function(e,t,i){return(i.xhtmlOut?"<hr />":"<hr>")+oe(e,t)};g.bullet_list_open=function(){return`<ul>
`};g.bullet_list_close=function(e,t){return"</ul>"+oe(e,t)};g.list_item_open=function(){return"<li>"};g.list_item_close=function(){return`</li>
`};g.ordered_list_open=function(e,t){var i=e[t],n=i.order>1?' start="'+i.order+'"':"";return"<ol"+n+`>
`};g.ordered_list_close=function(e,t){return"</ol>"+oe(e,t)};g.paragraph_open=function(e,t){return e[t].tight?"":"<p>"};g.paragraph_close=function(e,t){var i=!(e[t].tight&&t&&e[t-1].type==="inline"&&!e[t-1].content);return(e[t].tight?"":"</p>")+(i?oe(e,t):"")};g.link_open=function(e,t,i){var n=e[t].title?' title="'+B(re(e[t].title))+'"':"",r=i.linkTarget?' target="'+i.linkTarget+'"':"";return'<a href="'+B(e[t].href)+'"'+n+r+">"};g.link_close=function(){return"</a>"};g.image=function(e,t,i){var n=' src="'+B(e[t].src)+'"',r=e[t].title?' title="'+B(re(e[t].title))+'"':"",o=' alt="'+(e[t].alt?B(re(Te(e[t].alt))):"")+'"',a=i.xhtmlOut?" /":"";return"<img"+n+o+r+a+">"};g.table_open=function(){return`<table>
`};g.table_close=function(){return`</table>
`};g.thead_open=function(){return`<thead>
`};g.thead_close=function(){return`</thead>
`};g.tbody_open=function(){return`<tbody>
`};g.tbody_close=function(){return`</tbody>
`};g.tr_open=function(){return"<tr>"};g.tr_close=function(){return`</tr>
`};g.th_open=function(e,t){var i=e[t];return"<th"+(i.align?' style="text-align:'+i.align+'"':"")+">"};g.th_close=function(){return"</th>"};g.td_open=function(e,t){var i=e[t];return"<td"+(i.align?' style="text-align:'+i.align+'"':"")+">"};g.td_close=function(){return"</td>"};g.strong_open=function(){return"<strong>"};g.strong_close=function(){return"</strong>"};g.em_open=function(){return"<em>"};g.em_close=function(){return"</em>"};g.del_open=function(){return"<del>"};g.del_close=function(){return"</del>"};g.ins_open=function(){return"<ins>"};g.ins_close=function(){return"</ins>"};g.mark_open=function(){return"<mark>"};g.mark_close=function(){return"</mark>"};g.sub=function(e,t){return"<sub>"+B(e[t].content)+"</sub>"};g.sup=function(e,t){return"<sup>"+B(e[t].content)+"</sup>"};g.hardbreak=function(e,t,i){return i.xhtmlOut?`<br />
`:`<br>
`};g.softbreak=function(e,t,i){return i.breaks?i.xhtmlOut?`<br />
`:`<br>
`:`
`};g.text=function(e,t){return B(e[t].content)};g.htmlblock=function(e,t){return e[t].content};g.htmltag=function(e,t){return e[t].content};g.abbr_open=function(e,t){return'<abbr title="'+B(re(e[t].title))+'">'};g.abbr_close=function(){return"</abbr>"};g.footnote_ref=function(e,t){var i=Number(e[t].id+1).toString(),n="fnref"+i;return e[t].subId>0&&(n+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+i+'" id="'+n+'">['+i+"]</a></sup>"};g.footnote_block_open=function(e,t,i){var n=i.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return n+`<section class="footnotes">
<ol class="footnotes-list">
`};g.footnote_block_close=function(){return`</ol>
</section>
`};g.footnote_open=function(e,t){var i=Number(e[t].id+1).toString();return'<li id="fn'+i+'"  class="footnote-item">'};g.footnote_close=function(){return`</li>
`};g.footnote_anchor=function(e,t){var i=Number(e[t].id+1).toString(),n="fnref"+i;return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">\u21A9</a>'};g.dl_open=function(){return`<dl>
`};g.dt_open=function(){return"<dt>"};g.dd_open=function(){return"<dd>"};g.dl_close=function(){return`</dl>
`};g.dt_close=function(){return`</dt>
`};g.dd_close=function(){return`</dd>
`};function pn(e,t){return++t>=e.length-2?t:e[t].type==="paragraph_open"&&e[t].tight&&e[t+1].type==="inline"&&e[t+1].content.length===0&&e[t+2].type==="paragraph_close"&&e[t+2].tight?pn(e,t+2):t}var oe=g.getBreak=function(t,i){return i=pn(t,i),i<t.length&&t[i].type==="list_item_close"?"":`
`};function Nt(){this.rules=un({},g),this.getBreak=g.getBreak}Nt.prototype.renderInline=function(e,t,i){for(var n=this.rules,r=e.length,o=0,a="";r--;)a+=n[e[o].type](e,o++,t,i,this);return a};Nt.prototype.render=function(e,t,i){for(var n=this.rules,r=e.length,o=-1,a="";++o<r;)e[o].type==="inline"?a+=this.renderInline(e[o].children,t,i):a+=n[e[o].type](e,o,t,i,this);return a};function I(){this.__rules__=[],this.__cache__=null}I.prototype.__find__=function(e){for(var t=this.__rules__.length,i=-1;t--;)if(this.__rules__[++i].name===e)return i;return-1};I.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(i){!i.enabled||i.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(i){e.__cache__[i]=[],e.__rules__.forEach(function(n){!n.enabled||i&&n.alt.indexOf(i)<0||e.__cache__[i].push(n.fn)})})};I.prototype.at=function(e,t,i){var n=this.__find__(e),r=i||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=r.alt||[],this.__cache__=null};I.prototype.before=function(e,t,i,n){var r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null};I.prototype.after=function(e,t,i,n){var r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null};I.prototype.push=function(e,t,i){var n=i||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};I.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach(function(i){i.enabled=!1}),e.forEach(function(i){var n=this.__find__(i);if(n<0)throw new Error("Rules manager: invalid rule name "+i);this.__rules__[n].enabled=!0},this),this.__cache__=null};I.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(t){var i=this.__find__(t);if(i<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[i].enabled=!1},this),this.__cache__=null};I.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Hr(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function se(e,t,i,n,r){this.src=e,this.env=n,this.options=i,this.parser=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}se.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};se.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};se.prototype.cacheSet=function(e,t){for(var i=this.cache.length;i<=e;i++)this.cache.push(0);this.cache[e]=t};se.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function Me(e,t){var i,n,r,o=-1,a=e.posMax,s=e.pos,c=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,i=1;e.pos<a;){if(r=e.src.charCodeAt(e.pos),r===91)i++;else if(r===93&&(i--,i===0)){n=!0;break}e.parser.skipToken(e)}return n?(o=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=i-1,e.pos=s,e.isInLabel=c,o}function qr(e,t,i,n){var r,o,a,s,c,l;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(r=new se(e,t,i,n,[]),o=Me(r,1),o<0||e.charCodeAt(o+1)!==58))return-1;for(s=r.posMax,a=o+2;a<s&&r.src.charCodeAt(a)!==10;a++);return c=e.slice(2,o),l=e.slice(o+2,a).trim(),l.length===0?-1:(n.abbreviations||(n.abbreviations={}),typeof n.abbreviations[":"+c]>"u"&&(n.abbreviations[":"+c]=l),a)}function Ur(e){var t=e.tokens,i,n,r,o;if(!e.inlineMode){for(i=1,n=t.length-1;i<n;i++)if(t[i-1].type==="paragraph_open"&&t[i].type==="inline"&&t[i+1].type==="paragraph_close"){for(r=t[i].content;r.length&&(o=qr(r,e.inline,e.options,e.env),!(o<0));)r=r.slice(o).trim();t[i].content=r,r.length||(t[i-1].tight=!0,t[i+1].tight=!0)}}}function Ft(e){var t=re(e);try{t=decodeURI(t)}catch{}return encodeURI(t)}function fn(e,t){var i,n,r,o=t,a=e.posMax;if(e.src.charCodeAt(t)===60){for(t++;t<a;){if(i=e.src.charCodeAt(t),i===10)return!1;if(i===62)return r=Ft(Te(e.src.slice(o+1,t))),e.parser.validateLink(r)?(e.pos=t+1,e.linkContent=r,!0):!1;if(i===92&&t+1<a){t+=2;continue}t++}return!1}for(n=0;t<a&&(i=e.src.charCodeAt(t),!(i===32||i<32||i===127));){if(i===92&&t+1<a){t+=2;continue}if(i===40&&(n++,n>1)||i===41&&(n--,n<0))break;t++}return o===t||(r=Te(e.src.slice(o,t)),!e.parser.validateLink(r))?!1:(e.linkContent=r,e.pos=t,!0)}function mn(e,t){var i,n=t,r=e.posMax,o=e.src.charCodeAt(t);if(o!==34&&o!==39&&o!==40)return!1;for(t++,o===40&&(o=41);t<r;){if(i=e.src.charCodeAt(t),i===o)return e.pos=t+1,e.linkContent=Te(e.src.slice(n+1,t)),!0;if(i===92&&t+1<r){t+=2;continue}t++}return!1}function gn(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function Kr(e,t,i,n){var r,o,a,s,c,l,h,u,d;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(r=new se(e,t,i,n,[]),o=Me(r,0),o<0||e.charCodeAt(o+1)!==58))return-1;for(s=r.posMax,a=o+2;a<s&&(c=r.src.charCodeAt(a),!(c!==32&&c!==10));a++);if(!fn(r,a))return-1;for(h=r.linkContent,a=r.pos,l=a,a=a+1;a<s&&(c=r.src.charCodeAt(a),!(c!==32&&c!==10));a++);for(a<s&&l!==a&&mn(r,a)?(u=r.linkContent,a=r.pos):(u="",a=l);a<s&&r.src.charCodeAt(a)===32;)a++;return a<s&&r.src.charCodeAt(a)!==10?-1:(d=gn(e.slice(1,o)),typeof n.references[d]>"u"&&(n.references[d]={title:u,href:h}),a)}function Wr(e){var t=e.tokens,i,n,r,o;if(e.env.references=e.env.references||{},!e.inlineMode){for(i=1,n=t.length-1;i<n;i++)if(t[i].type==="inline"&&t[i-1].type==="paragraph_open"&&t[i+1].type==="paragraph_close"){for(r=t[i].content;r.length&&(o=Kr(r,e.inline,e.options,e.env),!(o<0));)r=r.slice(o).trim();t[i].content=r,r.length||(t[i-1].tight=!0,t[i+1].tight=!0)}}}function Yr(e){var t=e.tokens,i,n,r;for(n=0,r=t.length;n<r;n++)i=t[n],i.type==="inline"&&e.inline.parse(i.content,e.options,e.env,i.children)}function Gr(e){var t,i,n,r,o,a,s,c,l,h=0,u=!1,d={};if(!!e.env.footnotes&&(e.tokens=e.tokens.filter(function(p){return p.type==="footnote_reference_open"?(u=!0,c=[],l=p.label,!1):p.type==="footnote_reference_close"?(u=!1,d[":"+l]=c,!1):(u&&c.push(p),!u)}),!!e.env.footnotes.list)){for(a=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:h++}),t=0,i=a.length;t<i;t++){for(e.tokens.push({type:"footnote_open",id:t,level:h++}),a[t].tokens?(s=[],s.push({type:"paragraph_open",tight:!1,level:h++}),s.push({type:"inline",content:"",level:h,children:a[t].tokens}),s.push({type:"paragraph_close",tight:!1,level:--h})):a[t].label&&(s=d[":"+a[t].label]),e.tokens=e.tokens.concat(s),e.tokens[e.tokens.length-1].type==="paragraph_close"?o=e.tokens.pop():o=null,r=a[t].count>0?a[t].count:1,n=0;n<r;n++)e.tokens.push({type:"footnote_anchor",id:t,subId:n,level:h});o&&e.tokens.push(o),e.tokens.push({type:"footnote_close",level:--h})}e.tokens.push({type:"footnote_block_close",level:--h})}}var tn=` 
()[]'".,!?-`;function Lt(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function Jr(e){var t,i,n,r,o,a,s,c,l,h,u,d,p=e.tokens;if(!!e.env.abbreviations){for(e.env.abbrRegExp||(d="(^|["+tn.split("").map(Lt).join("")+"])("+Object.keys(e.env.abbreviations).map(function(m){return m.substr(1)}).sort(function(m,f){return f.length-m.length}).map(Lt).join("|")+")($|["+tn.split("").map(Lt).join("")+"])",e.env.abbrRegExp=new RegExp(d,"g")),h=e.env.abbrRegExp,i=0,n=p.length;i<n;i++)if(p[i].type==="inline"){for(r=p[i].children,t=r.length-1;t>=0;t--)if(o=r[t],o.type==="text"){for(c=0,a=o.content,h.lastIndex=0,l=o.level,s=[];u=h.exec(a);)h.lastIndex>c&&s.push({type:"text",content:a.slice(c,u.index+u[1].length),level:l}),s.push({type:"abbr_open",title:e.env.abbreviations[":"+u[2]],level:l++}),s.push({type:"text",content:u[2],level:l}),s.push({type:"abbr_close",level:--l}),c=h.lastIndex-u[3].length;!s.length||(c<a.length&&s.push({type:"text",content:a.slice(c),level:l}),p[i].children=r=[].concat(r.slice(0,t),s,r.slice(t+1)))}}}}var Qr=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Zr=/\((c|tm|r|p)\)/ig,Xr={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function eo(e){return e.indexOf("(")<0?e:e.replace(Zr,function(t,i){return Xr[i.toLowerCase()]})}function to(e){var t,i,n,r,o;if(!!e.options.typographer){for(o=e.tokens.length-1;o>=0;o--)if(e.tokens[o].type==="inline")for(r=e.tokens[o].children,t=r.length-1;t>=0;t--)i=r[t],i.type==="text"&&(n=i.content,n=eo(n),Qr.test(n)&&(n=n.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1\u2014$2").replace(/(^|\s)--(\s|$)/mg,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1\u2013$2")),i.content=n)}}var io=/['"]/,nn=/['"]/g,no=/[-\s()\[\]]/,rn="\u2019";function on(e,t){return t<0||t>=e.length?!1:!no.test(e[t])}function ve(e,t,i){return e.substr(0,t)+i+e.substr(t+1)}function ro(e){var t,i,n,r,o,a,s,c,l,h,u,d,p,m,f,v,y;if(!!e.options.typographer){for(y=[],f=e.tokens.length-1;f>=0;f--)if(e.tokens[f].type==="inline")for(v=e.tokens[f].children,y.length=0,t=0;t<v.length;t++){if(i=v[t],i.type!=="text"||io.test(i.text))continue;for(s=v[t].level,p=y.length-1;p>=0&&!(y[p].level<=s);p--);y.length=p+1,n=i.content,o=0,a=n.length;e:for(;o<a&&(nn.lastIndex=o,r=nn.exec(n),!!r);){if(c=!on(n,r.index-1),o=r.index+1,m=r[0]==="'",l=!on(n,o),!l&&!c){m&&(i.content=ve(i.content,r.index,rn));continue}if(u=!l,d=!c,d){for(p=y.length-1;p>=0&&(h=y[p],!(y[p].level<s));p--)if(h.single===m&&y[p].level===s){h=y[p],m?(v[h.token].content=ve(v[h.token].content,h.pos,e.options.quotes[2]),i.content=ve(i.content,r.index,e.options.quotes[3])):(v[h.token].content=ve(v[h.token].content,h.pos,e.options.quotes[0]),i.content=ve(i.content,r.index,e.options.quotes[1])),y.length=p;continue e}}u?y.push({token:t,pos:r.index,single:m,level:s}):d&&m&&(i.content=ve(i.content,r.index,rn))}}}}var Rt=[["block",Hr],["abbr",Ur],["references",Wr],["inline",Yr],["footnote_tail",Gr],["abbr2",Jr],["replacements",to],["smartquotes",ro]];function vn(){this.options={},this.ruler=new I;for(var e=0;e<Rt.length;e++)this.ruler.push(Rt[e][0],Rt[e][1])}vn.prototype.process=function(e){var t,i,n;for(n=this.ruler.getRules(""),t=0,i=n.length;t<i;t++)n[t](e)};function ae(e,t,i,n,r){var o,a,s,c,l,h,u;for(this.src=e,this.parser=t,this.options=i,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",a=this.src,h=0,u=!1,s=c=h=0,l=a.length;c<l;c++){if(o=a.charCodeAt(c),!u)if(o===32){h++;continue}else u=!0;(o===10||c===l-1)&&(o!==10&&c++,this.bMarks.push(s),this.eMarks.push(c),this.tShift.push(h),u=!1,h=0,s=c+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}ae.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};ae.prototype.skipEmptyLines=function(t){for(var i=this.lineMax;t<i&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};ae.prototype.skipSpaces=function(t){for(var i=this.src.length;t<i&&this.src.charCodeAt(t)===32;t++);return t};ae.prototype.skipChars=function(t,i){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===i;t++);return t};ae.prototype.skipCharsBack=function(t,i,n){if(t<=n)return t;for(;t>n;)if(i!==this.src.charCodeAt(--t))return t+1;return t};ae.prototype.getLines=function(t,i,n,r){var o,a,s,c,l,h=t;if(t>=i)return"";if(h+1===i)return a=this.bMarks[h]+Math.min(this.tShift[h],n),s=r?this.eMarks[h]+1:this.eMarks[h],this.src.slice(a,s);for(c=new Array(i-t),o=0;h<i;h++,o++)l=this.tShift[h],l>n&&(l=n),l<0&&(l=0),a=this.bMarks[h]+l,h+1<i||r?s=this.eMarks[h]+1:s=this.eMarks[h],c[o]=this.src.slice(a,s);return c.join("")};function oo(e,t,i){var n,r;if(e.tShift[t]-e.blkIndent<4)return!1;for(r=n=t+1;n<i;){if(e.isEmpty(n)){n++;continue}if(e.tShift[n]-e.blkIndent>=4){n++,r=n;continue}break}return e.line=n,e.tokens.push({type:"code",content:e.getLines(t,r,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}function so(e,t,i,n){var r,o,a,s,c,l=!1,h=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(h+3>u||(r=e.src.charCodeAt(h),r!==126&&r!==96)||(c=h,h=e.skipChars(h,r),o=h-c,o<3)||(a=e.src.slice(h,u).trim(),a.indexOf("`")>=0))return!1;if(n)return!0;for(s=t;s++,!(s>=i||(h=c=e.bMarks[s]+e.tShift[s],u=e.eMarks[s],h<u&&e.tShift[s]<e.blkIndent));)if(e.src.charCodeAt(h)===r&&!(e.tShift[s]-e.blkIndent>=4)&&(h=e.skipChars(h,r),!(h-c<o)&&(h=e.skipSpaces(h),!(h<u)))){l=!0;break}return o=e.tShift[t],e.line=s+(l?1:0),e.tokens.push({type:"fence",params:a,content:e.getLines(t+1,s,o,!0),lines:[t,e.line],level:e.level}),!0}function ao(e,t,i,n){var r,o,a,s,c,l,h,u,d,p,m,f=e.bMarks[t]+e.tShift[t],v=e.eMarks[t];if(f>v||e.src.charCodeAt(f++)!==62||e.level>=e.options.maxNesting)return!1;if(n)return!0;for(e.src.charCodeAt(f)===32&&f++,c=e.blkIndent,e.blkIndent=0,s=[e.bMarks[t]],e.bMarks[t]=f,f=f<v?e.skipSpaces(f):f,o=f>=v,a=[e.tShift[t]],e.tShift[t]=f-e.bMarks[t],u=e.parser.ruler.getRules("blockquote"),r=t+1;r<i&&(f=e.bMarks[r]+e.tShift[r],v=e.eMarks[r],!(f>=v));r++){if(e.src.charCodeAt(f++)===62){e.src.charCodeAt(f)===32&&f++,s.push(e.bMarks[r]),e.bMarks[r]=f,f=f<v?e.skipSpaces(f):f,o=f>=v,a.push(e.tShift[r]),e.tShift[r]=f-e.bMarks[r];continue}if(o)break;for(m=!1,d=0,p=u.length;d<p;d++)if(u[d](e,r,i,!0)){m=!0;break}if(m)break;s.push(e.bMarks[r]),a.push(e.tShift[r]),e.tShift[r]=-1337}for(l=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:h=[t,0],level:e.level++}),e.parser.tokenize(e,t,r),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=l,h[1]=e.line,d=0;d<a.length;d++)e.bMarks[d+t]=s[d],e.tShift[d+t]=a[d];return e.blkIndent=c,!0}function co(e,t,i,n){var r,o,a,s=e.bMarks[t],c=e.eMarks[t];if(s+=e.tShift[t],s>c||(r=e.src.charCodeAt(s++),r!==42&&r!==45&&r!==95))return!1;for(o=1;s<c;){if(a=e.src.charCodeAt(s++),a!==r&&a!==32)return!1;a===r&&o++}return o<3?!1:(n||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)}function sn(e,t){var i,n,r;return n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],n>=r||(i=e.src.charCodeAt(n++),i!==42&&i!==45&&i!==43)||n<r&&e.src.charCodeAt(n)!==32?-1:n}function an(e,t){var i,n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(n+1>=r||(i=e.src.charCodeAt(n++),i<48||i>57))return-1;for(;;){if(n>=r)return-1;if(i=e.src.charCodeAt(n++),!(i>=48&&i<=57)){if(i===41||i===46)break;return-1}}return n<r&&e.src.charCodeAt(n)!==32?-1:n}function lo(e,t){var i,n,r=e.level+2;for(i=t+2,n=e.tokens.length-2;i<n;i++)e.tokens[i].level===r&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].tight=!0,e.tokens[i].tight=!0,i+=2)}function ho(e,t,i,n){var r,o,a,s,c,l,h,u,d,p,m,f,v,y,w,E,_,C,A=!0,T,M,R,D;if((u=an(e,t))>=0)v=!0;else if((u=sn(e,t))>=0)v=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(f=e.src.charCodeAt(u-1),n)return!0;for(w=e.tokens.length,v?(h=e.bMarks[t]+e.tShift[t],m=Number(e.src.substr(h,u-h-1)),e.tokens.push({type:"ordered_list_open",order:m,lines:_=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:_=[t,0],level:e.level++}),r=t,E=!1,T=e.parser.ruler.getRules("list");r<i&&(y=e.skipSpaces(u),d=e.eMarks[r],y>=d?p=1:p=y-u,p>4&&(p=1),p<1&&(p=1),o=u-e.bMarks[r]+p,e.tokens.push({type:"list_item_open",lines:C=[t,0],level:e.level++}),s=e.blkIndent,c=e.tight,a=e.tShift[t],l=e.parentType,e.tShift[t]=y-e.bMarks[t],e.blkIndent=o,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,i,!0),(!e.tight||E)&&(A=!1),E=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=s,e.tShift[t]=a,e.tight=c,e.parentType=l,e.tokens.push({type:"list_item_close",level:--e.level}),r=t=e.line,C[1]=r,y=e.bMarks[t],!(r>=i||e.isEmpty(r)||e.tShift[r]<e.blkIndent));){for(D=!1,M=0,R=T.length;M<R;M++)if(T[M](e,r,i,!0)){D=!0;break}if(D)break;if(v){if(u=an(e,r),u<0)break}else if(u=sn(e,r),u<0)break;if(f!==e.src.charCodeAt(u-1))break}return e.tokens.push({type:v?"ordered_list_close":"bullet_list_close",level:--e.level}),_[1]=r,e.line=r,A&&lo(e,w),!0}function uo(e,t,i,n){var r,o,a,s,c,l=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(l+4>h||e.src.charCodeAt(l)!==91||e.src.charCodeAt(l+1)!==94||e.level>=e.options.maxNesting)return!1;for(s=l+2;s<h;s++){if(e.src.charCodeAt(s)===32)return!1;if(e.src.charCodeAt(s)===93)break}return s===l+2||s+1>=h||e.src.charCodeAt(++s)!==58?!1:(n||(s++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),c=e.src.slice(l+2,s-2),e.env.footnotes.refs[":"+c]=-1,e.tokens.push({type:"footnote_reference_open",label:c,level:e.level++}),r=e.bMarks[t],o=e.tShift[t],a=e.parentType,e.tShift[t]=e.skipSpaces(s)-s,e.bMarks[t]=s,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,i,!0),e.parentType=a,e.blkIndent-=4,e.tShift[t]=o,e.bMarks[t]=r,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function po(e,t,i,n){var r,o,a,s=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(s>=c||(r=e.src.charCodeAt(s),r!==35||s>=c))return!1;for(o=1,r=e.src.charCodeAt(++s);r===35&&s<c&&o<=6;)o++,r=e.src.charCodeAt(++s);return o>6||s<c&&r!==32?!1:(n||(c=e.skipCharsBack(c,32,s),a=e.skipCharsBack(c,35,s),a>s&&e.src.charCodeAt(a-1)===32&&(c=a),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:o,lines:[t,e.line],level:e.level}),s<c&&e.tokens.push({type:"inline",content:e.src.slice(s,c).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:o,level:e.level})),!0)}function fo(e,t,i){var n,r,o,a=t+1;return a>=i||e.tShift[a]<e.blkIndent||e.tShift[a]-e.blkIndent>3||(r=e.bMarks[a]+e.tShift[a],o=e.eMarks[a],r>=o)||(n=e.src.charCodeAt(r),n!==45&&n!==61)||(r=e.skipChars(r,n),r=e.skipSpaces(r),r<o)?!1:(r=e.bMarks[t]+e.tShift[t],e.line=a+1,e.tokens.push({type:"heading_open",hLevel:n===61?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(r,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:n===61?1:2,level:e.level}),!0)}var yn={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){yn[e]=!0});var mo=/^<([a-zA-Z]{1,15})[\s\/>]/,go=/^<\/([a-zA-Z]{1,15})[\s>]/;function vo(e){var t=e|32;return t>=97&&t<=122}function yo(e,t,i,n){var r,o,a,s=e.bMarks[t],c=e.eMarks[t],l=e.tShift[t];if(s+=l,!e.options.html||l>3||s+2>=c||e.src.charCodeAt(s)!==60)return!1;if(r=e.src.charCodeAt(s+1),r===33||r===63){if(n)return!0}else if(r===47||vo(r)){if(r===47){if(o=e.src.slice(s,c).match(go),!o)return!1}else if(o=e.src.slice(s,c).match(mo),!o)return!1;if(yn[o[1].toLowerCase()]!==!0)return!1;if(n)return!0}else return!1;for(a=t+1;a<e.lineMax&&!e.isEmpty(a);)a++;return e.line=a,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,a,0,!0)}),!0}function Bt(e,t){var i=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(i,n-i)}function bo(e,t,i,n){var r,o,a,s,c,l,h,u,d,p,m;if(t+2>i||(c=t+1,e.tShift[c]<e.blkIndent)||(a=e.bMarks[c]+e.tShift[c],a>=e.eMarks[c])||(r=e.src.charCodeAt(a),r!==124&&r!==45&&r!==58)||(o=Bt(e,t+1),!/^[-:| ]+$/.test(o))||(l=o.split("|"),l<=2))return!1;for(u=[],s=0;s<l.length;s++){if(d=l[s].trim(),!d){if(s===0||s===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(d))return!1;d.charCodeAt(d.length-1)===58?u.push(d.charCodeAt(0)===58?"center":"right"):d.charCodeAt(0)===58?u.push("left"):u.push("")}if(o=Bt(e,t).trim(),o.indexOf("|")===-1||(l=o.replace(/^\||\|$/g,"").split("|"),u.length!==l.length))return!1;if(n)return!0;for(e.tokens.push({type:"table_open",lines:p=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),s=0;s<l.length;s++)e.tokens.push({type:"th_open",align:u[s],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:l[s].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:m=[t+2,0],level:e.level++}),c=t+2;c<i&&!(e.tShift[c]<e.blkIndent||(o=Bt(e,c).trim(),o.indexOf("|")===-1));c++){for(l=o.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),s=0;s<l.length;s++)e.tokens.push({type:"td_open",align:u[s],level:e.level++}),h=l[s].substring(l[s].charCodeAt(0)===124?1:0,l[s].charCodeAt(l[s].length-1)===124?l[s].length-1:l[s].length).trim(),e.tokens.push({type:"inline",content:h,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),p[1]=m[1]=c,e.line=c,!0}function Ze(e,t){var i,n,r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return r>=o||(n=e.src.charCodeAt(r++),n!==126&&n!==58)||(i=e.skipSpaces(r),r===i)||i>=o?-1:i}function ko(e,t){var i,n,r=e.level+2;for(i=t+2,n=e.tokens.length-2;i<n;i++)e.tokens[i].level===r&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].tight=!0,e.tokens[i].tight=!0,i+=2)}function xo(e,t,i,n){var r,o,a,s,c,l,h,u,d,p,m,f,v,y;if(n)return e.ddIndent<0?!1:Ze(e,t)>=0;if(h=t+1,e.isEmpty(h)&&++h>i||e.tShift[h]<e.blkIndent||(r=Ze(e,h),r<0)||e.level>=e.options.maxNesting)return!1;l=e.tokens.length,e.tokens.push({type:"dl_open",lines:c=[t,0],level:e.level++}),a=t,o=h;e:for(;;){for(y=!0,v=!1,e.tokens.push({type:"dt_open",lines:[a,a],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(a,a+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[a,a],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:s=[h,0],level:e.level++}),f=e.tight,d=e.ddIndent,u=e.blkIndent,m=e.tShift[o],p=e.parentType,e.blkIndent=e.ddIndent=e.tShift[o]+2,e.tShift[o]=r-e.bMarks[o],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,o,i,!0),(!e.tight||v)&&(y=!1),v=e.line-o>1&&e.isEmpty(e.line-1),e.tShift[o]=m,e.tight=f,e.parentType=p,e.blkIndent=u,e.ddIndent=d,e.tokens.push({type:"dd_close",level:--e.level}),s[1]=h=e.line,h>=i||e.tShift[h]<e.blkIndent)break e;if(r=Ze(e,h),r<0)break;o=h}if(h>=i||(a=h,e.isEmpty(a))||e.tShift[a]<e.blkIndent||(o=a+1,o>=i)||(e.isEmpty(o)&&o++,o>=i)||e.tShift[o]<e.blkIndent||(r=Ze(e,o),r<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),c[1]=h,e.line=h,y&&ko(e,l),!0}function wo(e,t){var i,n,r,o,a,s=t+1,c;if(i=e.lineMax,s<i&&!e.isEmpty(s)){for(c=e.parser.ruler.getRules("paragraph");s<i&&!e.isEmpty(s);s++)if(!(e.tShift[s]-e.blkIndent>3)){for(r=!1,o=0,a=c.length;o<a;o++)if(c[o](e,s,i,!0)){r=!0;break}if(r)break}}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,n.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:n,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var Xe=[["code",oo],["fences",so,["paragraph","blockquote","list"]],["blockquote",ao,["paragraph","blockquote","list"]],["hr",co,["paragraph","blockquote","list"]],["list",ho,["paragraph","blockquote"]],["footnote",uo,["paragraph"]],["heading",po,["paragraph","blockquote"]],["lheading",fo],["htmlblock",yo,["paragraph","blockquote"]],["table",bo,["paragraph"]],["deflist",xo,["paragraph"]],["paragraph",wo]];function Dt(){this.ruler=new I;for(var e=0;e<Xe.length;e++)this.ruler.push(Xe[e][0],Xe[e][1],{alt:(Xe[e][2]||[]).slice()})}Dt.prototype.tokenize=function(e,t,i){for(var n=this.ruler.getRules(""),r=n.length,o=t,a=!1,s,c;o<i&&(e.line=o=e.skipEmptyLines(o),!(o>=i||e.tShift[o]<e.blkIndent));){for(c=0;c<r&&(s=n[c](e,o,i,!1),!s);c++);if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),o=e.line,o<i&&e.isEmpty(o)){if(a=!0,o++,o<i&&e.parentType==="list"&&e.isEmpty(o))break;e.line=o}}};var _o=/[\n\t]/g,Co=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,Eo=/\u00a0/g;Dt.prototype.parse=function(e,t,i,n){var r,o=0,a=0;if(!e)return[];e=e.replace(Eo," "),e=e.replace(Co,`
`),e.indexOf("	")>=0&&(e=e.replace(_o,function(s,c){var l;return e.charCodeAt(c)===10?(o=c+1,a=0,s):(l="    ".slice((c-o-a)%4),a=c-o+1,l)})),r=new ae(e,this,t,i,n),this.tokenize(r,r.line,r.lineMax)};function jo(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function Ao(e,t){for(var i=e.pos;i<e.posMax&&!jo(e.src.charCodeAt(i));)i++;return i===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,i)),e.pos=i,!0)}function So(e,t){var i,n,r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;if(i=e.pending.length-1,n=e.posMax,!t)if(i>=0&&e.pending.charCodeAt(i)===32)if(i>=1&&e.pending.charCodeAt(i-1)===32){for(var o=i-2;o>=0;o--)if(e.pending.charCodeAt(o)!==32){e.pending=e.pending.substring(0,o+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(r++;r<n&&e.src.charCodeAt(r)===32;)r++;return e.pos=r,!0}var $t=[];for(zt=0;zt<256;zt++)$t.push(0);var zt;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){$t[e.charCodeAt(0)]=1});function Po(e,t){var i,n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==92)return!1;if(n++,n<r){if(i=e.src.charCodeAt(n),i<256&&$t[i]!==0)return t||(e.pending+=e.src[n]),e.pos+=2,!0;if(i===10){for(t||e.push({type:"hardbreak",level:e.level}),n++;n<r&&e.src.charCodeAt(n)===32;)n++;return e.pos=n,!0}}return t||(e.pending+="\\"),e.pos++,!0}function To(e,t){var i,n,r,o,a,s=e.pos,c=e.src.charCodeAt(s);if(c!==96)return!1;for(i=s,s++,n=e.posMax;s<n&&e.src.charCodeAt(s)===96;)s++;for(r=e.src.slice(i,s),o=a=s;(o=e.src.indexOf("`",a))!==-1;){for(a=o+1;a<n&&e.src.charCodeAt(a)===96;)a++;if(a-o===r.length)return t||e.push({type:"code",content:e.src.slice(s,o).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=a,!0}return t||(e.pending+=r),e.pos+=r.length,!0}function Mo(e,t){var i,n,r,o=e.posMax,a=e.pos,s,c;if(e.src.charCodeAt(a)!==126||t||a+4>=o||e.src.charCodeAt(a+1)!==126||e.level>=e.options.maxNesting||(s=a>0?e.src.charCodeAt(a-1):-1,c=e.src.charCodeAt(a+2),s===126)||c===126||c===32||c===10)return!1;for(n=a+2;n<o&&e.src.charCodeAt(n)===126;)n++;if(n>a+3)return e.pos+=n-a,t||(e.pending+=e.src.slice(a,n)),!0;for(e.pos=a+2,r=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(s=e.src.charCodeAt(e.pos-1),c=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,c!==126&&s!==126&&(s!==32&&s!==10?r--:c!==32&&c!==10&&r++,r<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=a,!1)}function Lo(e,t){var i,n,r,o=e.posMax,a=e.pos,s,c;if(e.src.charCodeAt(a)!==43||t||a+4>=o||e.src.charCodeAt(a+1)!==43||e.level>=e.options.maxNesting||(s=a>0?e.src.charCodeAt(a-1):-1,c=e.src.charCodeAt(a+2),s===43)||c===43||c===32||c===10)return!1;for(n=a+2;n<o&&e.src.charCodeAt(n)===43;)n++;if(n!==a+2)return e.pos+=n-a,t||(e.pending+=e.src.slice(a,n)),!0;for(e.pos=a+2,r=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(s=e.src.charCodeAt(e.pos-1),c=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,c!==43&&s!==43&&(s!==32&&s!==10?r--:c!==32&&c!==10&&r++,r<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=a,!1)}function Ro(e,t){var i,n,r,o=e.posMax,a=e.pos,s,c;if(e.src.charCodeAt(a)!==61||t||a+4>=o||e.src.charCodeAt(a+1)!==61||e.level>=e.options.maxNesting||(s=a>0?e.src.charCodeAt(a-1):-1,c=e.src.charCodeAt(a+2),s===61)||c===61||c===32||c===10)return!1;for(n=a+2;n<o&&e.src.charCodeAt(n)===61;)n++;if(n!==a+2)return e.pos+=n-a,t||(e.pending+=e.src.slice(a,n)),!0;for(e.pos=a+2,r=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(s=e.src.charCodeAt(e.pos-1),c=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,c!==61&&s!==61&&(s!==32&&s!==10?r--:c!==32&&c!==10&&r++,r<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=a,!1)}function cn(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function ln(e,t){var i=t,n,r,o,a=!0,s=!0,c=e.posMax,l=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;i<c&&e.src.charCodeAt(i)===l;)i++;return i>=c&&(a=!1),o=i-t,o>=4?a=s=!1:(r=i<c?e.src.charCodeAt(i):-1,(r===32||r===10)&&(a=!1),(n===32||n===10)&&(s=!1),l===95&&(cn(n)&&(a=!1),cn(r)&&(s=!1))),{can_open:a,can_close:s,delims:o}}function Bo(e,t){var i,n,r,o,a,s,c,l=e.posMax,h=e.pos,u=e.src.charCodeAt(h);if(u!==95&&u!==42||t)return!1;if(c=ln(e,h),i=c.delims,!c.can_open)return e.pos+=i,t||(e.pending+=e.src.slice(h,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=h+i,s=[i];e.pos<l;){if(e.src.charCodeAt(e.pos)===u){if(c=ln(e,e.pos),n=c.delims,c.can_close){for(o=s.pop(),a=n;o!==a;){if(a<o){s.push(o-a);break}if(a-=o,s.length===0)break;e.pos+=o,o=s.pop()}if(s.length===0){i=o,r=!0;break}e.pos+=n;continue}c.can_open&&s.push(n),e.pos+=n;continue}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=h+i,t||((i===2||i===3)&&e.push({type:"strong_open",level:e.level++}),(i===1||i===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(i===1||i===3)&&e.push({type:"em_close",level:--e.level}),(i===2||i===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+i,e.posMax=l,!0):(e.pos=h,!1)}var zo=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Oo(e,t){var i,n,r=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==126||t||o+2>=r||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<r;){if(e.src.charCodeAt(e.pos)===126){i=!0;break}e.parser.skipToken(e)}return!i||o+1===e.pos||(n=e.src.slice(o+1,e.pos),n.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,t||e.push({type:"sub",level:e.level,content:n.replace(zo,"$1")}),e.pos=e.posMax+1,e.posMax=r,!0)}var Io=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Fo(e,t){var i,n,r=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==94||t||o+2>=r||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<r;){if(e.src.charCodeAt(e.pos)===94){i=!0;break}e.parser.skipToken(e)}return!i||o+1===e.pos||(n=e.src.slice(o+1,e.pos),n.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,t||e.push({type:"sup",level:e.level,content:n.replace(Io,"$1")}),e.pos=e.posMax+1,e.posMax=r,!0)}function No(e,t){var i,n,r,o,a,s,c,l,h=!1,u=e.pos,d=e.posMax,p=e.pos,m=e.src.charCodeAt(p);if(m===33&&(h=!0,m=e.src.charCodeAt(++p)),m!==91||e.level>=e.options.maxNesting||(i=p+1,n=Me(e,p),n<0))return!1;if(s=n+1,s<d&&e.src.charCodeAt(s)===40){for(s++;s<d&&(l=e.src.charCodeAt(s),!(l!==32&&l!==10));s++);if(s>=d)return!1;for(p=s,fn(e,s)?(o=e.linkContent,s=e.pos):o="",p=s;s<d&&(l=e.src.charCodeAt(s),!(l!==32&&l!==10));s++);if(s<d&&p!==s&&mn(e,s))for(a=e.linkContent,s=e.pos;s<d&&(l=e.src.charCodeAt(s),!(l!==32&&l!==10));s++);else a="";if(s>=d||e.src.charCodeAt(s)!==41)return e.pos=u,!1;s++}else{if(e.linkLevel>0)return!1;for(;s<d&&(l=e.src.charCodeAt(s),!(l!==32&&l!==10));s++);if(s<d&&e.src.charCodeAt(s)===91&&(p=s+1,s=Me(e,s),s>=0?r=e.src.slice(p,s++):s=p-1),r||(typeof r>"u"&&(s=n+1),r=e.src.slice(i,n)),c=e.env.references[gn(r)],!c)return e.pos=u,!1;o=c.href,a=c.title}return t||(e.pos=i,e.posMax=n,h?e.push({type:"image",src:o,title:a,alt:e.src.substr(i,n-i),level:e.level}):(e.push({type:"link_open",href:o,title:a,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=s,e.posMax=d,!0}function Do(e,t){var i,n,r,o,a=e.posMax,s=e.pos;return s+2>=a||e.src.charCodeAt(s)!==94||e.src.charCodeAt(s+1)!==91||e.level>=e.options.maxNesting||(i=s+2,n=Me(e,s+1),n<0)?!1:(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),r=e.env.footnotes.list.length,e.pos=i,e.posMax=n,e.push({type:"footnote_ref",id:r,level:e.level}),e.linkLevel++,o=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[r]={tokens:e.tokens.splice(o)},e.linkLevel--),e.pos=n+1,e.posMax=a,!0)}function $o(e,t){var i,n,r,o,a=e.posMax,s=e.pos;if(s+3>a||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(s)!==91||e.src.charCodeAt(s+1)!==94||e.level>=e.options.maxNesting)return!1;for(n=s+2;n<a;n++){if(e.src.charCodeAt(n)===32||e.src.charCodeAt(n)===10)return!1;if(e.src.charCodeAt(n)===93)break}return n===s+2||n>=a||(n++,i=e.src.slice(s+2,n-1),typeof e.env.footnotes.refs[":"+i]>"u")?!1:(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+i]<0?(r=e.env.footnotes.list.length,e.env.footnotes.list[r]={label:i,count:0},e.env.footnotes.refs[":"+i]=r):r=e.env.footnotes.refs[":"+i],o=e.env.footnotes.list[r].count,e.env.footnotes.list[r].count++,e.push({type:"footnote_ref",id:r,subId:o,level:e.level})),e.pos=n,e.posMax=a,!0)}var Vo=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],Ho=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,qo=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function Uo(e,t){var i,n,r,o,a,s=e.pos;return e.src.charCodeAt(s)!==60||(i=e.src.slice(s),i.indexOf(">")<0)?!1:(n=i.match(qo),n?Vo.indexOf(n[1].toLowerCase())<0||(o=n[0].slice(1,-1),a=Ft(o),!e.parser.validateLink(o))?!1:(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=n[0].length,!0):(r=i.match(Ho),r?(o=r[0].slice(1,-1),a=Ft("mailto:"+o),e.parser.validateLink(a)?(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0):!1):!1))}function et(e,t){return e=e.source,t=t||"",function i(n,r){return n?(r=r.source||r,e=e.replace(n,r),i):new RegExp(e,t)}}var Ko=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,Wo=/[^"'=<>`\x00-\x20]+/,Yo=/'[^']*'/,Go=/"[^"]*"/,Jo=et(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",Wo)("single_quoted",Yo)("double_quoted",Go)(),Qo=et(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Ko)("attr_value",Jo)(),Zo=et(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",Qo)(),Xo=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,es=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,ts=/<[?].*?[?]>/,is=/<![A-Z]+\s+[^>]*>/,ns=/<!\[CDATA\[[\s\S]*?\]\]>/,rs=et(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",Zo)("close_tag",Xo)("comment",es)("processing",ts)("declaration",is)("cdata",ns)();function os(e){var t=e|32;return t>=97&&t<=122}function ss(e,t){var i,n,r,o=e.pos;return!e.options.html||(r=e.posMax,e.src.charCodeAt(o)!==60||o+2>=r)||(i=e.src.charCodeAt(o+1),i!==33&&i!==63&&i!==47&&!os(i))||(n=e.src.slice(o).match(rs),!n)?!1:(t||e.push({type:"htmltag",content:e.src.slice(o,o+n[0].length),level:e.level}),e.pos+=n[0].length,!0)}var as=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,cs=/^&([a-z][a-z0-9]{1,31});/i;function ls(e,t){var i,n,r,o=e.pos,a=e.posMax;if(e.src.charCodeAt(o)!==38)return!1;if(o+1<a){if(i=e.src.charCodeAt(o+1),i===35){if(r=e.src.slice(o).match(as),r)return t||(n=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=dn(n)?It(n):It(65533)),e.pos+=r[0].length,!0}else if(r=e.src.slice(o).match(cs),r){var s=hn(r[1]);if(r[1]!==s)return t||(e.pending+=s),e.pos+=r[0].length,!0}}return t||(e.pending+="&"),e.pos++,!0}var Ot=[["text",Ao],["newline",So],["escape",Po],["backticks",To],["del",Mo],["ins",Lo],["mark",Ro],["emphasis",Bo],["sub",Oo],["sup",Fo],["links",No],["footnote_inline",Do],["footnote_ref",$o],["autolink",Uo],["htmltag",ss],["entity",ls]];function tt(){this.ruler=new I;for(var e=0;e<Ot.length;e++)this.ruler.push(Ot[e][0],Ot[e][1]);this.validateLink=hs}tt.prototype.skipToken=function(e){var t=this.ruler.getRules(""),i=t.length,n=e.pos,r,o;if((o=e.cacheGet(n))>0){e.pos=o;return}for(r=0;r<i;r++)if(t[r](e,!0)){e.cacheSet(n,e.pos);return}e.pos++,e.cacheSet(n,e.pos)};tt.prototype.tokenize=function(e){for(var t=this.ruler.getRules(""),i=t.length,n=e.posMax,r,o;e.pos<n;){for(o=0;o<i&&(r=t[o](e,!1),!r);o++);if(r){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};tt.prototype.parse=function(e,t,i,n){var r=new se(e,this,t,i,n);this.tokenize(r)};function hs(e){var t=["vbscript","javascript","file","data"],i=e.trim().toLowerCase();return i=re(i),!(i.indexOf(":")!==-1&&t.indexOf(i.split(":")[0])!==-1)}var us={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},ds={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},ps={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},fs={default:us,full:ds,commonmark:ps};function bn(e,t,i){this.src=t,this.env=i,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function q(e,t){typeof e!="string"&&(t=e,e="default"),t&&t.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new tt,this.block=new Dt,this.core=new vn,this.renderer=new Nt,this.ruler=new I,this.options={},this.configure(fs[e]),this.set(t||{})}q.prototype.set=function(e){un(this.options,e)};q.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(i){e.components[i].rules&&t[i].ruler.enable(e.components[i].rules,!0)})};q.prototype.use=function(e,t){return e(this,t),this};q.prototype.parse=function(e,t){var i=new bn(this,e,t);return this.core.process(i),i.tokens};q.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};q.prototype.parseInline=function(e,t){var i=new bn(this,e,t);return i.inlineMode=!0,this.core.process(i),i.tokens};q.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};function b(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function s(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){var h;l.done?r(l.value):(h=l.value,h instanceof i?h:new i(function(u){u(h)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function S(e,t,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(e):n?n.value:t.get(e)}function Kt(e,t,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(e,i):r?r.value=i:t.set(e,i),i}async function wi(e,t={}){let{local:i=!1,version:n="latest",cdnUrl:r,...o}=t,a=function(d,p,m){let f=`https://cdn.jsdelivr.net/npm/emojibase-data@${p}/${d}`;return typeof m=="function"?f=m(d,p):typeof m=="string"&&(f=`${m}/${d}`),f}(e,n,r),s=i?localStorage:sessionStorage,c=`emojibase/${n}/${e}`,l=s.getItem(c);if(l)return Promise.resolve(JSON.parse(l));let h=await fetch(a,{credentials:"omit",mode:"cors",redirect:"error",...o});if(!h.ok)throw new Error("Failed to load Emojibase dataset.");let u=await h.json();try{s.setItem(c,JSON.stringify(u))}catch{}return u}var ms={discord:"joypixels",slack:"iamcal"};async function kn(e,t,i){var n;return wi(`${e}/shortcodes/${(n=ms[t])!==null&&n!==void 0?n:t}.json`,i)}function Be(e,t){if(t.length===0)return e;let i=new Set(e.shortcodes);return t.forEach(n=>{let r=n[e.hexcode];Array.isArray(r)?r.forEach(o=>i.add(o)):r&&i.add(r)}),e.shortcodes=[...i],e.skins&&e.skins.forEach(n=>{Be(n,t)}),e}async function xn(e,t={}){let{compact:i=!1,flat:n=!1,shortcodes:r=[],...o}=t,a=await wi(`${e}/${i?"compact":"data"}.json`,o),s=[];return r.length>0&&(s=await Promise.all(r.map(c=>{let l;if(c.includes("/")){let[h,u]=c.split("/");l=kn(h,u,o)}else l=kn(e,c,o);return l.catch(()=>({}))}))),n?function(c,l=[]){let h=[];return c.forEach(u=>{if(u.skins){let{skins:d,...p}=u;h.push(Be(p,l)),d.forEach(m=>{let f={...m};p.tags&&(f.tags=[...p.tags]),h.push(Be(f,l))})}else h.push(Be(u,l))}),h}(a,s):function(c,l){return l.length===0||c.forEach(h=>{Be(h,l)}),c}(a,s)}async function wn(e,t){return wi(`${e}/messages.json`,t)}function Vt(e,t){let i=e.target.closest("[data-emoji]");if(i){let n=t.find(r=>r.emoji===i.dataset.emoji);if(n)return n}return null}function Rn(e){var t;let i=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-reduced-motion: reduce)");return e.animate&&!i?.matches}function _n(e,t){return e.toLowerCase().includes(t.toLowerCase())}function gs(e,t){let i=null;return()=>{i||(i=window.setTimeout(()=>{e(),i=null},t))}}function vs(e,t){let i=null;return(...n)=>{i&&window.clearTimeout(i),i=window.setTimeout(()=>{e(...n),i=null},t)}}function le(e,t,i,n){return Rn(n)&&e.animate?e.animate(t,i).finished:Promise.resolve()}function Wt(e){var t;let i=document.createElement("template");return i.innerHTML=e,(t=i.content)===null||t===void 0?void 0:t.firstElementChild}function ys(e){return b(this,void 0,void 0,function*(){let t=new TextEncoder().encode(e),i=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map(n=>n.toString(16).padStart(2,"0")).join("")})}function Cn(e){return b(this,void 0,void 0,function*(){try{return(yield fetch(e,{method:"HEAD"})).headers.get("etag")}catch{return null}})}function Bn(e,t,i){return b(this,void 0,void 0,function*(){let n=i||t(e);return yield n.open(),n})}function bs(e,t,i){return b(this,void 0,void 0,function*(){let n=yield Bn(e,t,i),[r,o]=yield function(a){let{emojisUrl:s,messagesUrl:c}=function(l,h){let u=`https://cdn.jsdelivr.net/npm/emojibase-data@latest/${h}`;return{emojisUrl:`${u}/data.json`,messagesUrl:`${u}/messages.json`}}(0,a);try{return Promise.all([Cn(s),Cn(c)])}catch{return Promise.all([null,null])}}(e);if(yield n.isPopulated())r&&o&&(yield function(a,s,c){return b(this,void 0,void 0,function*(){let l;try{l=yield a.getEtags()}catch{l={}}let{storedEmojisEtag:h,storedMessagesEtag:u}=l;if(c!==u||s!==h){let[d,p]=yield Promise.all([wn(a.locale),xn(a.locale)]);yield a.populate({groups:d.groups,emojis:p,emojisEtag:s,messagesEtag:c})}})}(n,r,o));else{let[a,s]=yield Promise.all([wn(e),xn(e)]);yield n.populate({groups:a.groups,emojis:s,emojisEtag:r,messagesEtag:o})}return n})}function ks(e,t,i,n,r){return b(this,void 0,void 0,function*(){let o=yield Bn(e,t,r),a=yield ys(n);return(yield o.isPopulated())&&!(yield function(s,c){return b(this,void 0,void 0,function*(){let l=yield s.getHash();return c!==l})}(o,a))||(yield o.populate({groups:i.groups,emojis:n,hash:a})),o})}function zn(e,t,i,n,r){return b(this,void 0,void 0,function*(){return i&&n?ks(e,t,i,n,r):bs(e,t,r)})}var Oe=class{constructor(){this.handleKeyDown=this.handleKeyDown.bind(this)}activate(t){this.rootElement=t,this.rootElement.addEventListener("keydown",this.handleKeyDown)}deactivate(){var t;(t=this.rootElement)===null||t===void 0||t.removeEventListener("keydown",this.handleKeyDown)}get focusableElements(){return this.rootElement.querySelectorAll('input, [tabindex="0"]')}get lastFocusableElement(){return this.focusableElements[this.focusableElements.length-1]}get firstFocusableElement(){return this.focusableElements[0]}checkFocus(t,i,n){t.target===i&&(n.focus(),t.preventDefault())}handleKeyDown(t){t.key==="Tab"&&this.checkFocus(t,t.shiftKey?this.firstFocusableElement:this.lastFocusableElement,t.shiftKey?this.lastFocusableElement:this.firstFocusableElement)}},k=class{constructor({template:t,classes:i,parent:n}){this.isDestroyed=!1,this.appEvents={},this.uiEvents=[],this.uiElements={},this.ui={},this.template=t,this.classes=i,this.parent=n,this.keyBindingHandler=this.keyBindingHandler.bind(this)}initialize(){this.bindAppEvents()}setCustomEmojis(t){this.customEmojis=t}setEvents(t){this.events=t}setPickerId(t){this.pickerId=t}emit(t,...i){this.events.emit(t,...i)}setI18n(t){this.i18n=t}setRenderer(t){this.renderer=t}setEmojiData(t){this.emojiDataPromise=t,t.then(i=>{this.emojiData=i})}updateEmojiData(t){this.emojiData=t,this.emojiDataPromise=Promise.resolve(t)}setOptions(t){this.options=t}renderSync(t={}){return this.el=this.template.renderSync(Object.assign({classes:this.classes,i18n:this.i18n,pickerId:this.pickerId},t)),this.postRender(),this.el}render(t={}){return b(this,void 0,void 0,function*(){return yield this.emojiDataPromise,this.el=yield this.template.renderAsync(Object.assign({classes:this.classes,i18n:this.i18n,pickerId:this.pickerId},t)),this.postRender(),this.el})}postRender(){this.bindUIElements(),this.bindKeyBindings(),this.bindUIEvents(),this.scheduleShowAnimation()}bindAppEvents(){Object.keys(this.appEvents).forEach(t=>{this.events.on(t,this.appEvents[t],this)}),this.events.on("data:ready",this.updateEmojiData,this)}unbindAppEvents(){Object.keys(this.appEvents).forEach(t=>{this.events.off(t,this.appEvents[t])}),this.events.off("data:ready",this.updateEmojiData)}keyBindingHandler(t){let i=this.keyBindings[t.key];i&&i.call(this,t)}bindKeyBindings(){this.keyBindings&&this.el.addEventListener("keydown",this.keyBindingHandler)}unbindKeyBindings(){this.keyBindings&&this.el.removeEventListener("keydown",this.keyBindingHandler)}bindUIElements(){this.ui=Object.keys(this.uiElements).reduce((t,i)=>Object.assign(Object.assign({},t),{[i]:this.el.querySelector(this.uiElements[i])}),{})}bindUIEvents(){this.uiEvents.forEach(t=>{t.handler=t.handler.bind(this),(t.target?this.ui[t.target]:this.el).addEventListener(t.event,t.handler,t.options)})}unbindUIEvents(){this.uiEvents.forEach(t=>{(t.target?this.ui[t.target]:this.el).removeEventListener(t.event,t.handler)})}destroy(){this.unbindAppEvents(),this.unbindUIEvents(),this.unbindKeyBindings(),this.el.remove(),this.isDestroyed=!0}scheduleShowAnimation(){if(this.parent){let t=new MutationObserver(i=>{let[n]=i;n.type==="childList"&&n.addedNodes[0]===this.el&&(Rn(this.options)&&this.animateShow&&this.animateShow(),t.disconnect)});t.observe(this.parent,{childList:!0})}}static childEvent(t,i,n,r={}){return{target:t,event:i,handler:n,options:r}}static uiEvent(t,i,n={}){return{event:t,handler:i,options:n}}static byClass(t){return`.${t}`}};function L(e,t){t===void 0&&(t={});var i=t.insertAt;if(e&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",i==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var En={icon:"icons_icon__YUQ3S","icon-small":"icons_icon-small__fEcU6","icon-medium":"icons_icon-medium__e5lKJ","icon-large":"icons_icon-large__t5mwg","icon-2x":"icons_icon-2x__on8is","icon-3x":"icons_icon-3x__RBDYg","icon-4x":"icons_icon-4x__UjvXP","icon-5x":"icons_icon-5x__zRG9K","icon-8x":"icons_icon-8x__PsCPS","icon-10x":"icons_icon-10x__WLjku"};L(`.icons_icon__YUQ3S {
  width: 1.25em;
  height: 1em;
  fill: currentColor;
}

.icons_icon-small__fEcU6 {
  font-size: 0.8em;
}

.icons_icon-medium__e5lKJ {
  font-size: 1em;
}

.icons_icon-large__t5mwg {
  font-size: 1.25em;
}

.icons_icon-2x__on8is {
  font-size: 2em;
}

.icons_icon-3x__RBDYg {
  font-size: 3em;
}

.icons_icon-4x__UjvXP {
  font-size: 4em;
}

.icons_icon-5x__zRG9K {
  font-size: 5em;
}

.icons_icon-8x__PsCPS {
  font-size: 8em;
}

.icons_icon-10x__WLjku {
  font-size: 10em;
}`);var jn={clock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',flag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"/></svg>',frown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240zM336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176zM259.9 369.4C288.8 369.4 316.2 375.2 340.6 385.5C352.9 390.7 366.7 381.3 361.4 369.1C344.8 330.9 305.6 303.1 259.9 303.1C214.3 303.1 175.1 330.8 158.4 369.1C153.1 381.3 166.1 390.6 179.3 385.4C203.7 375.1 231 369.4 259.9 369.4L259.9 369.4z"/></svg>',gamepad:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M448 64H192C85.96 64 0 149.1 0 256s85.96 192 192 192h256c106 0 192-85.96 192-192S554 64 448 64zM247.1 280h-32v32c0 13.2-10.78 24-23.98 24c-13.2 0-24.02-10.8-24.02-24v-32L136 279.1C122.8 279.1 111.1 269.2 111.1 256c0-13.2 10.85-24.01 24.05-24.01L167.1 232v-32c0-13.2 10.82-24 24.02-24c13.2 0 23.98 10.8 23.98 24v32h32c13.2 0 24.02 10.8 24.02 24C271.1 269.2 261.2 280 247.1 280zM431.1 344c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40s39.1 17.88 39.1 40S454.1 344 431.1 344zM495.1 248c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40c22.12 0 39.1 17.88 39.1 40S518.1 248 495.1 248z"/></svg>',lightbulb:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"/></svg>',mug:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M512 32H120c-13.25 0-24 10.75-24 24L96.01 288c0 53 43 96 96 96h192C437 384 480 341 480 288h32c70.63 0 128-57.38 128-128S582.6 32 512 32zM512 224h-32V96h32c35.25 0 64 28.75 64 64S547.3 224 512 224zM560 416h-544C7.164 416 0 423.2 0 432C0 458.5 21.49 480 48 480h480c26.51 0 48-21.49 48-48C576 423.2 568.8 416 560 416z"/></svg>',plane:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M482.3 192C516.5 192 576 221 576 256C576 292 516.5 320 482.3 320H365.7L265.2 495.9C259.5 505.8 248.9 512 237.4 512H181.2C170.6 512 162.9 501.8 165.8 491.6L214.9 320H112L68.8 377.6C65.78 381.6 61.04 384 56 384H14.03C6.284 384 0 377.7 0 369.1C0 368.7 .1818 367.4 .5398 366.1L32 256L.5398 145.9C.1818 144.6 0 143.3 0 142C0 134.3 6.284 128 14.03 128H56C61.04 128 65.78 130.4 68.8 134.4L112 192H214.9L165.8 20.4C162.9 10.17 170.6 0 181.2 0H237.4C248.9 0 259.5 6.153 265.2 16.12L365.7 192H482.3z"/></svg>',robot:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M9.375 233.4C3.375 239.4 0 247.5 0 256v128c0 8.5 3.375 16.62 9.375 22.62S23.5 416 32 416h32V224H32C23.5 224 15.38 227.4 9.375 233.4zM464 96H352V32c0-17.62-14.38-32-32-32S288 14.38 288 32v64H176C131.8 96 96 131.8 96 176V448c0 35.38 28.62 64 64 64h320c35.38 0 64-28.62 64-64V176C544 131.8 508.3 96 464 96zM256 416H192v-32h64V416zM224 296C201.9 296 184 278.1 184 256S201.9 216 224 216S264 233.9 264 256S246.1 296 224 296zM352 416H288v-32h64V416zM448 416h-64v-32h64V416zM416 296c-22.12 0-40-17.88-40-40S393.9 216 416 216S456 233.9 456 256S438.1 296 416 296zM630.6 233.4C624.6 227.4 616.5 224 608 224h-32v192h32c8.5 0 16.62-3.375 22.62-9.375S640 392.5 640 384V256C640 247.5 636.6 239.4 630.6 233.4z"/></svg>',sad:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <radialGradient gradientUnits="userSpaceOnUse" cy="10%" id="gradient-0">
      <stop offset="0" style="stop-color: hsl(50, 100%, 50%);"/>
      <stop offset="1" style="stop-color: hsl(50, 100%, 60%);"/>
    </radialGradient>
  </defs>
  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
  <ellipse style="stroke: rgb(0, 0, 0); fill: rgba(0, 0, 0, 0.59);" cx="172.586" cy="207.006" rx="39.974" ry="39.974"/>
  <ellipse style="stroke: rgb(0, 0, 0); fill: rgba(0, 0, 0, 0.59);" cx="334.523" cy="207.481" rx="39.974" ry="39.974"/>
  <ellipse style="stroke: rgb(0, 0, 0); fill: rgba(0, 0, 0, 0.59);" cx="313.325" cy="356.208" rx="91.497" ry="59.893"/>
  <path style="fill: rgb(85, 167, 255);" d="M 159.427 274.06 L 102.158 363.286 L 124.366 417.011 L 160.476 423.338 L 196.937 414.736 L 218.502 375.214"></path>
  <path style="fill: url(#gradient-0);" d="M256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM256 352C290.9 352 323.2 367.8 348.3 394.9C354.3 401.4 364.4 401.7 370.9 395.7C377.4 389.7 377.7 379.6 371.7 373.1C341.6 340.5 301 320 256 320C247.2 320 240 327.2 240 336C240 344.8 247.2 352 256 352H256zM208 369C208 349 179.6 308.6 166.4 291.3C163.2 286.9 156.8 286.9 153.6 291.3C140.6 308.6 112 349 112 369C112 395 133.5 416 160 416C186.5 416 208 395 208 369H208zM303.6 208C303.6 225.7 317.1 240 335.6 240C353.3 240 367.6 225.7 367.6 208C367.6 190.3 353.3 176 335.6 176C317.1 176 303.6 190.3 303.6 208zM207.6 208C207.6 190.3 193.3 176 175.6 176C157.1 176 143.6 190.3 143.6 208C143.6 225.7 157.1 240 175.6 240C193.3 240 207.6 225.7 207.6 208z" />
</svg>`,search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"/></svg>',smiley:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256.3 331.8C208.9 331.8 164.1 324.9 124.5 312.8C112.2 309 100.2 319.7 105.2 331.5C130.1 390.6 188.4 432 256.3 432C324.2 432 382.4 390.6 407.4 331.5C412.4 319.7 400.4 309 388.1 312.8C348.4 324.9 303.7 331.8 256.3 331.8H256.3zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"/></svg>',symbols:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"/></svg>',tree:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M413.8 447.1L256 448l0 31.99C256 497.7 241.8 512 224.1 512c-17.67 0-32.1-14.32-32.1-31.99l0-31.99l-158.9-.0099c-28.5 0-43.69-34.49-24.69-56.4l68.98-79.59H62.22c-25.41 0-39.15-29.8-22.67-49.13l60.41-70.85H89.21c-21.28 0-32.87-22.5-19.28-37.31l134.8-146.5c10.4-11.3 28.22-11.3 38.62-.0033l134.9 146.5c13.62 14.81 2.001 37.31-19.28 37.31h-10.77l60.35 70.86c16.46 19.34 2.716 49.12-22.68 49.12h-15.2l68.98 79.59C458.7 413.7 443.1 447.1 413.8 447.1z"/></svg>',users:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM479.1 320h-73.85C451.2 357.7 480 414.1 480 477.3C480 490.1 476.2 501.9 470 512h138C625.7 512 640 497.6 640 479.1C640 391.6 568.4 320 479.1 320zM432 256C493.9 256 544 205.9 544 144S493.9 32 432 32c-25.11 0-48.04 8.555-66.72 22.51C376.8 76.63 384 101.4 384 128c0 35.52-11.93 68.14-31.59 94.71C372.7 243.2 400.8 256 432 256z"/></svg>',warning:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <radialGradient id="radial" cy="85%">
      <stop offset="20%" stop-color="var(--color-secondary)" />
      <stop offset="100%" stop-color="var(--color-primary)" />
    </radialGradient>
  </defs>
  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
  <path fill="url('#radial')" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z" />
</svg>`,xmark:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>'},st={recents:"clock","smileys-emotion":"smiley","people-body":"users","animals-nature":"tree","food-drink":"mug",activities:"gamepad","travel-places":"plane",objects:"lightbulb",symbols:"symbols",flags:"flag",custom:"robot"};function On(e,t){if(!(e in jn))return console.warn(`Unknown icon: "${e}"`),document.createElement("div");let i=function(n,r){let o=Wt(r);return o.dataset.icon=n,o.classList.add(En.icon),o}(e,jn[e]);return t&&i.classList.add(En[`icon-${t}`]),i}var Q,ze,nt,Yt,Gt,Jt,xs="sync",P=class{constructor(t,i={}){Q.add(this),ze.set(this,void 0),nt.set(this,void 0),Kt(this,ze,t,"f"),Kt(this,nt,i.mode||xs,"f")}renderSync(t={}){let i=Wt(S(this,ze,"f").call(this,t));return S(this,Q,"m",Jt).call(this,i,t),S(this,Q,"m",Gt).call(this,i),S(this,Q,"m",Yt).call(this,i,t),i}renderAsync(t={}){return b(this,void 0,void 0,function*(){let i=Wt(S(this,ze,"f").call(this,t));return S(this,Q,"m",Jt).call(this,i,t),S(this,Q,"m",Gt).call(this,i),yield S(this,Q,"m",Yt).call(this,i,t),i})}render(t){return S(this,nt,"f")==="sync"?this.renderSync(t):this.renderAsync(t)}};ze=new WeakMap,nt=new WeakMap,Q=new WeakSet,Yt=function(e,t){return b(this,void 0,void 0,function*(){let i=e.querySelectorAll("[data-view]"),n=[];for(let r of i){let o=t[r.dataset.view];o?r.dataset.render!=="sync"?n.push(o.render().then(a=>(r.replaceWith(a),a))):r.replaceWith(o.renderSync()):r.remove()}return Promise.all(n)})},Gt=function(e){e.querySelectorAll("i[data-icon]").forEach(t=>{let{icon:i,size:n}=t.dataset;t.replaceWith(On(i,n))})},Jt=function(e,t){return e.querySelectorAll("[data-placeholder]").forEach(i=>{let n=i.dataset.placeholder;if(n&&t[n]){let r=t[n];i.replaceWith(...[r].flat())}else console.warn(`Missing placeholder element for key "${n}"`)}),e};var ws={imagePlaceholder:"common_imagePlaceholder__FRWLu",placeholder:"common_placeholder__qe-fo",shine:"common_shine__tUVG2"};L(`@keyframes common_shine__tUVG2 {
  to {
    transform: translateX(100%);
  }
}
.common_imagePlaceholder__FRWLu {
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
}

.common_placeholder__qe-fo {
  background: #DDDBDD;
  position: relative;
}
.common_placeholder__qe-fo::after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  transform: translateX(-100%);
  background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0));
  animation: common_shine__tUVG2 2s infinite;
  content: "";
}`);var _s=new P(({classes:e})=>`
  <div class="${e.placeholder} ${e.imagePlaceholder}"></div>
`),Qt=class extends k{constructor({classNames:t}={}){super({template:_s,classes:ws}),this.classNames=t}load(t){let i=document.createElement("img");this.classNames&&(i.className=this.classNames),i.addEventListener("load",()=>{this.el.replaceWith(i)},{once:!0}),Promise.resolve(t).then(n=>i.src=n)}renderSync(){return super.renderSync(),this.classNames&&this.classNames.split(" ").forEach(t=>this.el.classList.add(t)),this.el}},Cs={customEmoji:"custom_customEmoji__Kspg6"};L(`.custom_customEmoji__Kspg6 {
  width: 1em;
  height: 1em;
}`);var Zt=class{renderElement(t){return{content:t}}renderImage(t="",i){let n=new Qt({classNames:t});return n.renderSync(),{content:n,resolver:()=>(n.load(i()),n.el)}}doRender(t,i,n){if(t.custom)return this.renderCustom(t,i,n);let{content:r,resolver:o}=this.render(t,n),a=r instanceof Element?r:r.el;return o&&o(),a}doEmit(t){return t.custom?this.emitCustom(t):this.emit(t)}emitCustom({url:t,label:i,emoji:n,data:r}){return{url:t,label:i,emoji:n,data:r}}renderCustom(t,i,n=""){let r=[Cs.customEmoji,n].join(" ").trim(),{content:o,resolver:a}=this.renderImage(r,()=>t.url),s=o instanceof Element?o:o.el;return a&&a(),s}},Es=new P(({emoji:e})=>`<span>${e}</span>`),Xt=class extends Zt{render(t){return this.renderElement(Es.renderSync({emoji:t.emoji}))}emit({emoji:t,hexcode:i,label:n}){return{emoji:t,hexcode:i,label:n}}};L(`.themes_lightTheme__mMNem {
  color-scheme: light;
  --accent-color: #4f46e5;
  --background-color: #f9fafb;
  --border-color: #cccccc;
  --category-name-background-color: #f9fafb;
  --category-name-button-color: #999999;
  --category-name-text-color: hsl(214, 30%, 50%);
  --category-tab-active-background-color: rgba(255, 255, 255, 0.6);
  --category-tab-active-color: var(--accent-color);
  --category-tab-color: #666;
  --category-tab-highlight-background-color: rgba(0, 0, 0, 0.15);
  --error-color-dark: hsl(0, 100%, 45%);
  --error-color: hsl(0, 100%, 40%);
  --focus-indicator-background-color: hsl(198, 65%, 85%);
  --focus-indicator-color: #333333;
  --hover-background-color: #c7d2fe;
  --placeholder-background-color: #cccccc;
  --preview-background-color: var(--secondary-background-color);
  --scrollbar-background-color: var(--background-color);
  --scrollbar-color: rgba(0, 0, 0, 0.75);
  --search-background-color: #f9fafb;
  --search-focus-background-color: #ffffff;
  --search-icon-color: #999999;
  --search-placeholder-color: #71717a;
  --secondary-background-color: #e2e8f0;
  --secondary-text-color: #666666;
  --tag-background-color: rgba(162, 190, 245, 0.3);
  --text-color: #000000;
  --variant-popup-background-color: #ffffff;
}

.themes_darkTheme__qgrZP {
  color-scheme: dark;
  --accent-color: #A580F9;
  --background-color: #333333;
  --border-color: #666666;
  --category-name-background-color: #333333;
  --category-name-button-color: #eeeeee;
  --category-name-text-color: #ffffff;
  --category-tab-active-background-color: #000000;
  --category-tab-active-color: var(--accent-color);
  --category-tab-color: #cccccc;
  --category-tab-highlight-background-color: #4A4A4A;
  --error-color-dark: hsl(0, 7%, 3%);
  --error-color: hsl(0, 30%, 60%);
  --focus-indicator-background-color: hsl(0, 0%, 50%);
  --focus-indicator-color: #999999;
  --hover-background-color: hsla(0, 0%, 40%, 0.85);
  --image-placeholder-color: #ffffff;
  --placeholder-background-color: #666666;
  --search-background-color: #71717a;
  --search-focus-background-color: #52525b;
  --search-icon-color: #cccccc;
  --search-placeholder-color: #d4d4d8;
  --secondary-background-color: #000000 ;
  --secondary-text-color: #999999;
  --tag-background-color: rgba(162, 190, 245, 0.3);
  --text-color: #ffffff;
  --variant-popup-background-color: #333333;
}

.themes_autoTheme__tik-v {
  color-scheme: light;
  --accent-color: #4f46e5;
  --background-color: #f9fafb;
  --border-color: #cccccc;
  --category-name-background-color: #f9fafb;
  --category-name-button-color: #999999;
  --category-name-text-color: hsl(214, 30%, 50%);
  --category-tab-active-background-color: rgba(255, 255, 255, 0.6);
  --category-tab-active-color: var(--accent-color);
  --category-tab-color: #666;
  --category-tab-highlight-background-color: rgba(0, 0, 0, 0.15);
  --error-color-dark: hsl(0, 100%, 45%);
  --error-color: hsl(0, 100%, 40%);
  --focus-indicator-background-color: hsl(198, 65%, 85%);
  --focus-indicator-color: #333333;
  --hover-background-color: #c7d2fe;
  --placeholder-background-color: #cccccc;
  --preview-background-color: var(--secondary-background-color);
  --scrollbar-background-color: var(--background-color);
  --scrollbar-color: rgba(0, 0, 0, 0.75);
  --search-background-color: #f9fafb;
  --search-focus-background-color: #ffffff;
  --search-icon-color: #999999;
  --search-placeholder-color: #71717a;
  --secondary-background-color: #e2e8f0;
  --secondary-text-color: #666666;
  --tag-background-color: rgba(162, 190, 245, 0.3);
  --text-color: #000000;
  --variant-popup-background-color: #ffffff;
}

@media (prefers-color-scheme: dark) {
  .themes_autoTheme__tik-v {
    color-scheme: dark;
    --accent-color: #A580F9;
    --background-color: #333333;
    --border-color: #666666;
    --category-name-background-color: #333333;
    --category-name-button-color: #eeeeee;
    --category-name-text-color: #ffffff;
    --category-tab-active-background-color: #000000;
    --category-tab-active-color: var(--accent-color);
    --category-tab-color: #cccccc;
    --category-tab-highlight-background-color: #4A4A4A;
    --error-color-dark: hsl(0, 7%, 3%);
    --error-color: hsl(0, 30%, 60%);
    --focus-indicator-background-color: hsl(0, 0%, 50%);
    --focus-indicator-color: #999999;
    --hover-background-color: hsla(0, 0%, 40%, 0.85);
    --image-placeholder-color: #ffffff;
    --placeholder-background-color: #666666;
    --search-background-color: #71717a;
    --search-focus-background-color: #52525b;
    --search-icon-color: #cccccc;
    --search-placeholder-color: #d4d4d8;
    --secondary-background-color: #000000 ;
    --secondary-text-color: #999999;
    --tag-background-color: rgba(162, 190, 245, 0.3);
    --text-color: #ffffff;
    --variant-popup-background-color: #333333;
  }
}`);var{autoTheme:Jc,lightTheme:js,darkTheme:Qc}={lightTheme:"themes_lightTheme__mMNem",darkTheme:"themes_darkTheme__qgrZP",autoTheme:"themes_autoTheme__tik-v"},As={"categories.activities":"Activities","categories.animals-nature":"Animals & Nature","categories.custom":"Custom","categories.flags":"Flags","categories.food-drink":"Food & Drink","categories.objects":"Objects","categories.people-body":"People & Body","categories.recents":"Recently Used","categories.smileys-emotion":"Smileys & Emotion","categories.symbols":"Symbols","categories.travel-places":"Travel & Places","error.load":"Failed to load emojis","recents.clear":"Clear recent emojis","recents.none":"You haven't selected any emojis yet.",retry:"Try again","search.clear":"Clear search","search.error":"Failed to search emojis","search.notFound":"No results found",search:"Search emojis..."},Ss=[(e,t)=>(e.hexcode==="1F91D"&&t<14&&(e.skins=[]),e),(e,t)=>(e.skins&&(e.skins=e.skins.filter(i=>!i.version||i.version<=t)),e)];function at(e,t){return e.filter(i=>function(n,r){return Ss.some(o=>o(n,r)===null)?null:n}(i,t)!==null)}function Ie(e){var t;return{emoji:e.emoji,label:e.label,tags:e.tags,skins:(t=e.skins)===null||t===void 0?void 0:t.map(i=>Ie(i)),order:e.order,custom:!1,hexcode:e.hexcode,version:e.version}}function ct(e,t,i){var n;return!(i&&!i.some(r=>r.order===e.group))&&(_n(e.label,t)||((n=e.tags)===null||n===void 0?void 0:n.some(r=>_n(r,t))))}var lt=class{constructor(t="en"){this.locale=t}};function In(e){return new ei(e)}In.deleteDatabase=e=>new Promise((t,i)=>{let n=indexedDB.deleteDatabase(`PicMo-${e}`);n.addEventListener("success",t),n.addEventListener("error",i)});var ei=class extends lt{open(){return b(this,void 0,void 0,function*(){let t=indexedDB.open(`PicMo-${this.locale}`);return new Promise((i,n)=>{t.addEventListener("success",r=>{var o;this.db=(o=r.target)===null||o===void 0?void 0:o.result,i()}),t.addEventListener("error",n),t.addEventListener("upgradeneeded",r=>b(this,void 0,void 0,function*(){var o;this.db=(o=r.target)===null||o===void 0?void 0:o.result,this.db.createObjectStore("category",{keyPath:"order"});let a=this.db.createObjectStore("emoji",{keyPath:"emoji"});a.createIndex("category","group"),a.createIndex("version","version"),this.db.createObjectStore("meta")}))})})}delete(){return b(this,void 0,void 0,function*(){this.close();let t=indexedDB.deleteDatabase(`PicMo-${this.locale}`);yield this.waitForRequest(t)})}close(){this.db.close()}getEmojiCount(){return b(this,void 0,void 0,function*(){let t=this.db.transaction("emoji","readonly").objectStore("emoji");return(yield this.waitForRequest(t.count())).target.result})}getEtags(){return b(this,void 0,void 0,function*(){let t=this.db.transaction("meta","readonly").objectStore("meta"),[i,n]=yield Promise.all([this.waitForRequest(t.get("emojisEtag")),this.waitForRequest(t.get("messagesEtag"))]);return{storedEmojisEtag:i.target.result,storedMessagesEtag:n.target.result}})}setMeta(t){return b(this,void 0,void 0,function*(){let i=this.db.transaction("meta","readwrite"),n=i.objectStore("meta");return new Promise(r=>{i.oncomplete=r,Object.keys(t).filter(Boolean).forEach(o=>{n.put(t[o],o)})})})}getHash(){return b(this,void 0,void 0,function*(){let t=this.db.transaction("meta","readonly").objectStore("meta");return(yield this.waitForRequest(t.get("hash"))).target.result})}isPopulated(){return b(this,void 0,void 0,function*(){let t=this.db.transaction("category","readonly").objectStore("category");return(yield this.waitForRequest(t.count())).target.result>0})}populate({groups:t,emojis:i,emojisEtag:n,messagesEtag:r,hash:o}){return b(this,void 0,void 0,function*(){yield this.removeAllObjects("category","emoji");let a=[this.addObjects("category",t),this.addObjects("emoji",i),this.setMeta({emojisEtag:n,messagesEtag:r,hash:o})];yield Promise.all(a)})}getCategories(t){var i;return b(this,void 0,void 0,function*(){let n=this.db.transaction("category","readonly").objectStore("category"),r=(yield this.waitForRequest(n.getAll())).target.result.filter(o=>o.key!=="component");if(t.showRecents&&r.unshift({key:"recents",order:-1}),!((i=t.custom)===null||i===void 0)&&i.length&&r.push({key:"custom",order:10}),t.categories){let o=t.categories;r=r.filter(a=>o.includes(a.key)),r.sort((a,s)=>o.indexOf(a.key)-o.indexOf(s.key))}else r.sort((o,a)=>o.order-a.order);return r})}getEmojis(t,i){return b(this,void 0,void 0,function*(){let n=this.db.transaction("emoji","readonly").objectStore("emoji").index("category");return at((yield this.waitForRequest(n.getAll(t.order))).target.result.filter(r=>r.version<=i).sort((r,o)=>r.order!=null&&o.order!=null?r.order-o.order:0).map(Ie),i)})}searchEmojis(t,i,n,r){return b(this,void 0,void 0,function*(){let o=[];return new Promise((a,s)=>{let c=this.db.transaction("emoji","readonly").objectStore("emoji").openCursor();c.addEventListener("success",l=>{var h;let u=(h=l.target)===null||h===void 0?void 0:h.result;if(!u)return a([...at(o,n),...i.filter(p=>ct(p,t))]);let d=u.value;ct(d,t,r)&&d.version<=n&&o.push(Ie(d)),u.continue()}),c.addEventListener("error",l=>{s(l)})})})}waitForRequest(t){return b(this,void 0,void 0,function*(){return new Promise((i,n)=>{t.onsuccess=i,t.onerror=n})})}withTransaction(t,i="readwrite",n){return new Promise((r,o)=>{let a=this.db.transaction(t,i);a.oncomplete=r,a.onerror=o,n(a)})}removeAllObjects(...t){return b(this,void 0,void 0,function*(){let i=this.db.transaction(t,"readwrite"),n=t.map(r=>i.objectStore(r));yield Promise.all(n.map(r=>this.waitForRequest(r.clear())))})}addObjects(t,i){return b(this,void 0,void 0,function*(){return this.withTransaction(t,"readwrite",n=>{let r=n.objectStore(t);i.forEach(o=>{r.add(o)})})})}},ti=class{},ii=class extends ti{constructor(t){super(),this.storage=t}clear(){this.storage.removeItem("PicMo:recents")}getRecents(t){var i;try{return JSON.parse((i=this.storage.getItem("PicMo:recents"))!==null&&i!==void 0?i:"[]").slice(0,t)}catch{return[]}}addOrUpdateRecent(t,i){let n=[t,...this.getRecents(i).filter(r=>r.hexcode!==t.hexcode)].slice(0,i);try{this.storage.setItem("PicMo:recents",JSON.stringify(n))}catch{console.warn("storage is not available, recent emojis will not be saved")}}},ni=class extends ii{constructor(){super(localStorage)}},Ps={renderer:new Xt,dataStore:In,theme:js,animate:!0,showCategoryTabs:!0,showPreview:!0,showRecents:!0,showSearch:!0,showVariants:!0,emojisPerRow:8,visibleRows:6,emojiVersion:"auto",i18n:As,locale:"en",maxRecents:50,recentsProvider:new ni,custom:[]};function _i(e={}){return Object.assign(Object.assign({},Ps),e)}var ce,he,ht,ri,ue=class{constructor(){ce.add(this),he.set(this,new Map)}on(t,i,n){S(this,ce,"m",ri).call(this,t,i,n)}once(t,i,n){S(this,ce,"m",ri).call(this,t,i,n,!0)}off(t,i){let n=S(this,ce,"m",ht).call(this,t);S(this,he,"f").set(t,n.filter(r=>r.handler!==i))}emit(t,...i){S(this,ce,"m",ht).call(this,t).forEach(n=>{n.handler.apply(n.context,i),n.once&&this.off(t,n.handler)})}removeAll(){S(this,he,"f").clear()}};he=new WeakMap,ce=new WeakSet,ht=function(e){return S(this,he,"f").has(e)||S(this,he,"f").set(e,[]),S(this,he,"f").get(e)},ri=function(e,t,i,n=!1){S(this,ce,"m",ht).call(this,e).push({context:i,handler:t,once:n})};var oi=class extends ue{},si=class extends ue{},ai={emojiCategory:"EmojiCategory_emojiCategory__7G3mq",categoryName:"EmojiCategory_categoryName__zHcOq",noRecents:"EmojiCategory_noRecents__Pk1Ys",recentEmojis:"EmojiCategory_recentEmojis__CybhN"};L(`.EmojiCategory_emojiCategory__7G3mq {
  position: relative;
}

.EmojiCategory_categoryName__zHcOq {
  font-size: 0.9em;
  padding: 0.5rem;
  margin: 0;
  background: var(--category-name-background-color);
  color: var(--category-name-text-color);
  top: 0;
  z-index: 1;
  display: grid;
  gap: 4px;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  line-height: 1;
  box-sizing: border-box;
  height: var(--category-name-height);
  justify-content: flex-start;
  text-transform: uppercase;
}
.EmojiCategory_categoryName__zHcOq button {
  background: transparent;
  border: none;
  display: flex;
  align-items: center;
  cursor: pointer;
  color: var(--category-name-button-color);
}
.EmojiCategory_categoryName__zHcOq button:hover {
  opacity: 1;
}

.EmojiCategory_noRecents__Pk1Ys {
  color: var(--secondary-text-color);
  grid-column: 1/span var(--emojis-per-row);
  font-size: 0.9em;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: calc(var(--emoji-size) * var(--emoji-size-multiplier));
}

.EmojiCategory_recentEmojis__CybhN[data-empty=true] {
  display: none;
}

.EmojiCategory_recentEmojis__CybhN[data-empty=false] + div {
  display: none;
}`);var Fe=class extends k{constructor({template:t,category:i,showVariants:n,lazyLoader:r}){super({template:t,classes:ai}),this.baseUIElements={categoryName:k.byClass(ai.categoryName)},this.category=i,this.showVariants=n,this.lazyLoader=r}setActive(t,i,n){this.emojiContainer.setActive(t,i,n)}},Ts=new P(({classes:e,emoji:t})=>`
  <button
    type="button"
    class="${e.emoji}"
    title="${t.label}"
    data-emoji="${t.emoji}"
    tabindex="-1">
    <div data-placeholder="emojiContent"></div>
  </button>
`),Ms={emoji:"Emoji_emoji__iKc1G"};L(`.Emoji_emoji__iKc1G {
  background: transparent;
  border: none;
  border-radius: 15px;
  cursor: pointer;
  font-family: var(--emoji-font);
  font-size: var(--emoji-size);
  height: 100%;
  justify-content: center;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}
.Emoji_emoji__iKc1G:hover {
  background: var(--hover-background-color);
}
.Emoji_emoji__iKc1G:focus {
  border-radius: 0;
  background: var(--focus-indicator-background-color);
  outline: 1px soldi var(--focus-indicator-color);
}`);var ut=class extends k{constructor({emoji:t,lazyLoader:i,category:n}){super({template:Ts,classes:Ms}),this.emoji=t,this.lazyLoader=i,this.category=n}initialize(){this.uiEvents=[k.uiEvent("focus",this.handleFocus)],super.initialize()}handleFocus(){this.category&&this.events.emit("focus:change",this.category)}activateFocus(t){this.el.tabIndex=0,t&&this.el.focus()}deactivateFocus(){this.el.tabIndex=-1}renderSync(){return super.renderSync({emoji:this.emoji,emojiContent:this.renderer.doRender(this.emoji,this.lazyLoader)})}},ci=class{constructor(t,i,n=0,r=0,o=!1){this.events=new ue,this.keyHandlers={ArrowLeft:this.focusPrevious.bind(this),ArrowRight:this.focusNext.bind(this),ArrowUp:this.focusUp.bind(this),ArrowDown:this.focusDown.bind(this)},this.rowCount=Math.ceil(i/t),this.columnCount=t,this.focusedRow=n,this.focusedColumn=r,this.emojiCount=i,this.wrap=o,this.handleKeyDown=this.handleKeyDown.bind(this)}destroy(){this.events.removeAll()}on(t,i){this.events.on(t,i)}handleKeyDown(t){t.key in this.keyHandlers&&(t.preventDefault(),this.keyHandlers[t.key]())}setCell(t,i,n=!0){let r=this.getIndex();this.focusedRow=t,i!==void 0&&(this.focusedColumn=Math.min(this.columnCount,i)),(this.focusedRow>=this.rowCount||this.getIndex()>=this.emojiCount)&&(this.focusedRow=this.rowCount-1,this.focusedColumn=this.emojiCount%this.columnCount-1),this.events.emit("focus:change",{from:r,to:this.getIndex(),performFocus:n})}setFocusedIndex(t,i=!0){let n=Math.floor(t/this.columnCount),r=t%this.columnCount;this.setCell(n,r,i)}focusNext(){this.focusedColumn<this.columnCount-1&&this.getIndex()<this.emojiCount-1?this.setCell(this.focusedRow,this.focusedColumn+1):this.focusedRow<this.rowCount-1?this.setCell(this.focusedRow+1,0):this.wrap?this.setCell(0,0):this.events.emit("focus:overflow",0)}focusPrevious(){this.focusedColumn>0?this.setCell(this.focusedRow,this.focusedColumn-1):this.focusedRow>0?this.setCell(this.focusedRow-1,this.columnCount-1):this.wrap?this.setCell(this.rowCount-1,this.columnCount-1):this.events.emit("focus:underflow",this.columnCount-1)}focusUp(){this.focusedRow>0?this.setCell(this.focusedRow-1,this.focusedColumn):this.events.emit("focus:underflow",this.focusedColumn)}focusDown(){this.focusedRow<this.rowCount-1?this.setCell(this.focusedRow+1,this.focusedColumn):this.events.emit("focus:overflow",this.focusedColumn)}focusToIndex(t){this.setCell(Math.floor(t/this.columnCount),t%this.columnCount)}getIndex(){return this.focusedRow*this.columnCount+this.focusedColumn}getCell(){return{row:this.focusedRow,column:this.focusedColumn}}getRowCount(){return this.rowCount}},Ls=new P(({classes:e})=>`
  <div class="${e.emojiContainer}">
    <div data-placeholder="emojis"></div>
  </div>
`),Rs={emojiContainer:"EmojiContainer_emojiContainer__4SPb5"};L(`.EmojiContainer_emojiContainer__4SPb5 {
  display: grid;
  justify-content: space-between;
  gap: 1px;
  padding: 0 0.5em;
  grid-template-columns: repeat(var(--emojis-per-row), calc(var(--emoji-size) * var(--emoji-size-multiplier)));
  grid-auto-rows: calc(var(--emoji-size) * var(--emoji-size-multiplier));
  align-items: center;
  justify-items: center;
}`);var de=class extends k{constructor({emojis:t,showVariants:i,preview:n=!0,lazyLoader:r,category:o,fullHeight:a=!1}){super({template:Ls,classes:Rs}),this.fullHeight=!1,this.showVariants=i,this.lazyLoader=r,this.preview=n,this.emojis=t,this.category=o,this.fullHeight=a,this.setFocus=this.setFocus.bind(this),this.triggerNextCategory=this.triggerNextCategory.bind(this),this.triggerPreviousCategory=this.triggerPreviousCategory.bind(this)}initialize(){this.grid=new ci(this.options.emojisPerRow,this.emojiCount,0,0,!this.category),this.grid.on("focus:change",this.setFocus),this.grid.on("focus:overflow",this.triggerNextCategory),this.grid.on("focus:underflow",this.triggerPreviousCategory),this.uiEvents=[k.uiEvent("click",this.selectEmoji),k.uiEvent("keydown",this.grid.handleKeyDown)],this.preview&&this.uiEvents.push(k.uiEvent("mouseover",this.showPreview),k.uiEvent("mouseout",this.hidePreview),k.uiEvent("focus",this.showPreview,{capture:!0}),k.uiEvent("blur",this.hidePreview,{capture:!0})),super.initialize()}setFocusedView(t,i){if(t)if(typeof t=="string"){let n=this.emojis.findIndex(r=>r.emoji===t);this.grid.setFocusedIndex(n,!1),setTimeout(()=>{var r,o,a,s;let c=this.emojiViews[n].el;c.scrollIntoView();let l=(r=c.parentElement)===null||r===void 0?void 0:r.previousElementSibling;((a=(o=c.parentElement)===null||o===void 0?void 0:o.parentElement)===null||a===void 0?void 0:a.parentElement).scrollTop-=(s=l?.offsetHeight)!==null&&s!==void 0?s:0})}else t.row==="first"||t.row===0?this.grid.setCell(0,t.offset,i):t.row==="last"&&this.grid.setCell(this.grid.getRowCount()-1,t.offset,i)}setActive(t,i,n){var r;t?this.setFocusedView(i,n):(r=this.emojiViews[this.grid.getIndex()])===null||r===void 0||r.deactivateFocus()}renderSync(){return this.emojiViews=this.emojis.map(t=>this.viewFactory.create(ut,{emoji:t,category:this.category,lazyLoader:this.lazyLoader,renderer:this.renderer})),this.emojiElements=this.emojiViews.map(t=>t.renderSync()),super.renderSync({emojis:this.emojiElements,i18n:this.i18n})}destroy(){super.destroy(),this.emojiViews.forEach(t=>t.destroy()),this.grid.destroy()}triggerPreviousCategory(t){this.events.emit("category:previous",t)}triggerNextCategory(t){this.category&&this.events.emit("category:next",t)}setFocus({from:t,to:i,performFocus:n}){var r,o;(r=this.emojiViews[t])===null||r===void 0||r.deactivateFocus(),(o=this.emojiViews[i])===null||o===void 0||o.activateFocus(n)}selectEmoji(t){let i=Vt(t,this.emojis);i&&this.events.emit("emoji:select",{emoji:i,showVariants:this.showVariants})}showPreview(t){let i=t.target.closest("button"),n=i?.firstElementChild,r=Vt(t,this.emojis);r&&this.events.emit("preview:show",r,n?.cloneNode(!0))}hidePreview(t){Vt(t,this.emojis)&&this.events.emit("preview:hide")}get emojiCount(){return this.emojis.length}},Bs=new P(({classes:e,category:t,pickerId:i,icon:n,i18n:r})=>`
  <section class="${e.emojiCategory}" role="tabpanel" aria-labelledby="${i}-category-${t.key}">
    <h3 data-category="${t.key}" class="${e.categoryName}">
      <i data-icon="${n}"></i>
      ${r.get(`categories.${t.key}`,t.message||t.key)}
    </h3>
    <div data-view="emojis" data-render="sync"></div>
  </section>
`),li=class extends Fe{constructor({category:t,showVariants:i,lazyLoader:n,emojiVersion:r}){super({category:t,showVariants:i,lazyLoader:n,template:Bs}),this.showVariants=i,this.lazyLoader=n,this.emojiVersion=r}initialize(){this.uiElements=Object.assign({},this.baseUIElements),super.initialize()}render(){let t=Object.create(null,{render:{get:()=>super.render}});return b(this,void 0,void 0,function*(){yield this.emojiDataPromise;let i=yield this.emojiData.getEmojis(this.category,this.emojiVersion);return this.emojiContainer=this.viewFactory.create(de,{emojis:i,showVariants:this.showVariants,lazyLoader:this.lazyLoader,category:this.category.key}),t.render.call(this,{category:this.category,emojis:this.emojiContainer,emojiCount:i.length,icon:st[this.category.key]})})}},hi=class extends de{constructor({category:t,emojis:i,preview:n=!0,lazyLoader:r}){super({category:t,emojis:i,showVariants:!1,preview:n,lazyLoader:r})}addOrUpdate(t){return b(this,void 0,void 0,function*(){let i=this.el.querySelector(`[data-emoji="${t.emoji}"]`);i&&(this.el.removeChild(i),this.emojis=this.emojis.filter(r=>r!==t));let n=this.viewFactory.create(ut,{emoji:t});if(this.el.insertBefore(n.renderSync(),this.el.firstChild),this.emojis=[t,...this.emojis.filter(r=>r!==t)],this.emojis.length>this.options.maxRecents){this.emojis=this.emojis.slice(0,this.options.maxRecents);let r=this.el.childElementCount-this.options.maxRecents;for(let o=0;o<r;o++)this.el.lastElementChild&&this.el.removeChild(this.el.lastElementChild)}})}},zs=new P(({emojiCount:e,classes:t,category:i,pickerId:n,icon:r,i18n:o})=>`
  <section class="${t.emojiCategory}" role="tabpanel" aria-labelledby="${n}-category-${i.key}">
  <h3 data-category="${i.key}" class="${t.categoryName}">
    <i data-icon="${r}"></i>
    ${o.get(`categories.${i.key}`,i.message||i.key)}
  </h3>
  <div data-empty="${e===0}" class="${t.recentEmojis}">
    <div data-view="emojis" data-render="sync"></div>
  </div>
  <div class="${t.noRecents}">
    ${o.get("recents.none")}
  </div>
</section>
`,{mode:"async"}),Os=new P(({classes:e,category:t,pickerId:i,icon:n,i18n:r})=>`
  <section class="${e.emojiCategory}" role="tabpanel" aria-labelledby="${i}-category-${t.key}">
    <h3 data-category="${t.key}" class="${e.categoryName}">
      <i data-icon="${n}"></i>
      ${r.get(`categories.${t.key}`,t.message||t.key)}
    </h3>
    <div data-view="emojis" data-render="sync"></div>
  </section>
`),dt=class{constructor(){this.elements=new Map}lazyLoad(t,i){return this.elements.set(t,i),t}observe(t){if(window.IntersectionObserver){let i=new IntersectionObserver(n=>{n.filter(r=>r.intersectionRatio>0).map(r=>r.target).forEach(r=>{let o=this.elements.get(r);o?.(),i.unobserve(r)})},{root:t});this.elements.forEach((n,r)=>{i.observe(r)})}else this.elements.forEach(i=>{i()})}},An={emojis:"EmojiArea_emojis__L4mMq"};L(`.EmojiArea_emojis__L4mMq {
  height: var(--emoji-area-height);
  overflow-y: auto;
  position: relative;
  scrollbar-color: var(--scrollbar-color) var(--scrollbar-background-color);
  scrollbar-width: 8px;
}
.EmojiArea_emojis__L4mMq::-webkit-scrollbar {
  background: var(--scrollbar-background-color);
  width: 1.1em;
}
.EmojiArea_emojis__L4mMq::-webkit-scrollbar-thumb {
  background: var(--scrollbar-color);
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  background-clip: padding-box;
  height: 1em;
  border-radius: 1em;
}`);var Is=new P(({classes:e})=>`
  <div class="${e.emojis}">
    <div data-placeholder="emojis"></div>
  </div>
`,{mode:"async"}),Fs={recents:class extends Fe{constructor({category:e,lazyLoader:t,provider:i}){super({category:e,showVariants:!1,lazyLoader:t,template:zs}),this.provider=i}initialize(){this.uiElements=Object.assign(Object.assign({},this.baseUIElements),{recents:k.byClass(ai.recentEmojis)}),this.appEvents={"recent:add":this.addRecent},super.initialize()}addRecent(e){return b(this,void 0,void 0,function*(){yield this.emojiContainer.addOrUpdate(e),this.ui.recents.dataset.empty="false"})}render(){let e=Object.create(null,{render:{get:()=>super.render}});var t;return b(this,void 0,void 0,function*(){let i=(t=this.provider)===null||t===void 0?void 0:t.getRecents(this.options.maxRecents);return this.emojiContainer=this.viewFactory.create(hi,{emojis:i,showVariants:!1,lazyLoader:this.lazyLoader,category:this.category.key}),yield e.render.call(this,{category:this.category,emojis:this.emojiContainer,emojiCount:i.length,icon:st[this.category.key]}),this.el})}},custom:class extends Fe{constructor({category:e,lazyLoader:t}){super({template:Os,showVariants:!1,lazyLoader:t,category:e})}initialize(){this.uiElements=Object.assign({},this.baseUIElements),super.initialize()}render(){let e=Object.create(null,{render:{get:()=>super.render}});return b(this,void 0,void 0,function*(){return this.emojiContainer=this.viewFactory.create(de,{emojis:this.customEmojis,showVariants:this.showVariants,lazyLoader:this.lazyLoader,category:this.category.key}),e.render.call(this,{category:this.category,emojis:this.emojiContainer,emojiCount:this.customEmojis.length,icon:st[this.category.key]})})}}},ui=class extends k{constructor({categoryTabs:t,categories:i,emojiVersion:n}){super({template:Is,classes:An}),this.selectedCategory=0,this.scrollListenerState="active",this.lazyLoader=new dt,this.categoryTabs=t,this.categories=i,this.emojiVersion=n,this.handleScroll=gs(this.handleScroll.bind(this),100)}initialize(){this.appEvents={"category:select":this.handleCategorySelect,"category:previous":this.focusPreviousCategory,"category:next":this.focusNextCategory,"focus:change":this.updateFocusedCategory},this.uiElements={emojis:k.byClass(An.emojis)},this.uiEvents=[k.uiEvent("scroll",this.handleScroll)],super.initialize()}get focusableEmoji(){return this.el.querySelector('[tabindex="0"]')}render(){let t=Object.create(null,{render:{get:()=>super.render}});return b(this,void 0,void 0,function*(){this.emojiCategories=this.categories.map(this.createCategory,this);let i={};return this.categories.forEach((n,r)=>{i[`emojis-${n.key}`]=this.emojiCategories[r]}),yield t.render.call(this,{emojis:yield Promise.all(this.emojiCategories.map(n=>n.render()))}),this.lazyLoader.observe(this.el),window.ResizeObserver&&(this.observer=new ResizeObserver(()=>{let n=this.el.scrollHeight-this.scrollHeight;this.el.scrollTop-this.scrollTop===0&&n>0&&(this.el.scrollTop+=n),this.scrollHeight=this.el.scrollHeight,this.scrollTop=this.el.scrollTop}),this.emojiCategories.forEach(n=>{this.observer.observe(n.el)})),this.el})}destroy(){super.destroy(),this.emojiCategories.forEach(t=>{var i;(i=this.observer)===null||i===void 0||i.unobserve(t.el),t.destroy()})}handleCategorySelect(t,i){this.selectCategory(t,i)}createCategory(t){let i=function(n){return Fs[n.key]||li}(t);return this.viewFactory.create(i,{category:t,showVariants:!0,lazyLoader:this.lazyLoader,emojiVersion:this.emojiVersion,provider:this.options.recentsProvider})}determineInitialCategory(){var t;return this.options.initialCategory&&this.categories.find(i=>i.key===this.options.initialCategory)?this.options.initialCategory:(t=this.categories.find(i=>i.key!=="recents"))===null||t===void 0?void 0:t.key}determineFocusTarget(t){let i=this.emojiCategories.find(n=>n.category.key===t);return this.options.initialEmoji&&i?.el.querySelector(`[data-emoji="${this.options.initialEmoji}"]`)?this.options.initialEmoji:"button"}reset(){this.events.emit("preview:hide");let t=this.determineInitialCategory();t&&(this.selectCategory(t,{focus:this.determineFocusTarget(t),performFocus:!0,scroll:"jump"}),this.selectedCategory=this.getCategoryIndex(t))}getCategoryIndex(t){return this.categories.findIndex(i=>i.key===t)}focusPreviousCategory(t){this.selectedCategory>0&&this.focusCategory(this.selectedCategory-1,{row:"last",offset:t??this.options.emojisPerRow})}focusNextCategory(t){this.selectedCategory<this.categories.length-1&&this.focusCategory(this.selectedCategory+1,{row:"first",offset:t??0})}focusCategory(t,i){this.selectCategory(t,{focus:i,performFocus:!0})}selectCategory(t,i={}){var n;return b(this,void 0,void 0,function*(){this.scrollListenerState="suspend";let{focus:r,performFocus:o,scroll:a}=Object.assign({performFocus:!1},i);this.emojiCategories[this.selectedCategory].setActive(!1);let s=this.selectedCategory=typeof t=="number"?t:this.getCategoryIndex(t);(n=this.categoryTabs)===null||n===void 0||n.setActiveTab(this.selectedCategory,o,r==="button");let c=this.emojiCategories[s].el.offsetTop;this.emojiCategories[s].setActive(!0,function(l){return l&&l!=="button"?l:{row:"first",offset:0}}(r),r!=="button"&&o),a&&(this.el.scrollTop=c),this.scrollListenerState="resume"})}updateFocusedCategory(t){var i;this.categories[this.selectedCategory].key!==t&&(this.scrollListenerState="suspend",this.selectedCategory=this.getCategoryIndex(t),(i=this.categoryTabs)===null||i===void 0||i.setActiveTab(this.selectedCategory,!1),this.scrollListenerState="resume")}handleScroll(){if(this.scrollListenerState==="suspend"||!this.categoryTabs)return;if(this.scrollListenerState==="resume")return void(this.scrollListenerState="active");let t=this.el.scrollTop,i=this.el.scrollHeight-this.el.offsetHeight,n=this.emojiCategories.findIndex((r,o)=>{var a;return t<((a=this.emojiCategories[o+1])===null||a===void 0?void 0:a.el.offsetTop)});t===0?this.categoryTabs.setActiveTab(0,!1):Math.floor(t)===Math.floor(i)||n<0?this.categoryTabs.setActiveTab(this.categories.length-1,!1):this.categoryTabs.setActiveTab(n,!1)}},Ns=new P(({classList:e,classes:t,icon:i,message:n})=>`
<div class="${e}" role="alert">
  <div class="${t.icon}"><i data-size="10x" data-icon="${i}"></i></div>
  <h3 class="${t.title}">${n}</h3>
</div>
`),Sn={error:"ErrorMessage_error__7I7y1",icon:"ErrorMessage_icon__4---V","appear-grow":"ErrorMessage_appear-grow__oBenJ",title:"ErrorMessage_title__shDDT",appear:"ErrorMessage_appear__kry-R"};L(`@keyframes ErrorMessage_appear__kry-R {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 0.8;
  }
}
@keyframes ErrorMessage_appear-grow__oBenJ {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 0.8;
    transform: scale(1);
  }
}
.ErrorMessage_error__7I7y1 {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: var(--secondary-text-color);
}
.ErrorMessage_error__7I7y1 .ErrorMessage_icon__4---V {
  opacity: 0.8;
  animation: ErrorMessage_appear-grow__oBenJ 250ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --color-primary: var(--error-color);
  --color-secondary: var(--error-color-dark);
}
.ErrorMessage_error__7I7y1 .ErrorMessage_title__shDDT {
  animation: ErrorMessage_appear__kry-R 250ms;
  animation-delay: 50ms;
  animation-fill-mode: both;
}
.ErrorMessage_error__7I7y1 button {
  padding: 8px 16px;
  cursor: pointer;
  background: var(--background-color);
  border: 1px solid var(--text-color);
  border-radius: 5px;
  color: var(--text-color);
}
.ErrorMessage_error__7I7y1 button:hover {
  background: var(--text-color);
  color: var(--background-color);
}`);var Ne=class extends k{constructor({message:t,icon:i="warning",template:n=Ns,className:r}){super({template:n,classes:Sn}),this.message=t,this.icon=i,this.className=r}renderSync(){let t=[Sn.error,this.className].join(" ").trim();return super.renderSync({message:this.message,icon:this.icon,classList:t})}},Ds="DataError_dataError__jyJ0H";L(`.DataError_dataError__jyJ0H [data-icon] {
  opacity: 0.8;
}`);var $s=new P(({classList:e,classes:t,icon:i,i18n:n,message:r})=>`
  <div class="${e}">
    <div class="${t.icon}"><i data-size="10x" data-icon="${i}"></i></div>
    <h3 class="${t.title}">${r}</h3>
    <button type="button">${n.get("retry")}</button>
  </div>
`),di=class extends Ne{constructor({message:t}){super({message:t,template:$s,className:Ds})}initialize(){this.uiElements={retryButton:"button"},this.uiEvents=[k.childEvent("retryButton","click",this.onRetry)],super.initialize()}onRetry(){return b(this,void 0,void 0,function*(){this.emojiData?yield this.emojiData.delete():yield this.options.dataStore.deleteDatabase(this.options.locale),this.events.emit("reinitialize");let t=yield zn(this.options.locale,this.options.dataStore,this.options.messages,this.options.emojiData,this.emojiData);this.viewFactory.setEmojiData(t),this.events.emit("data:ready",t)})}},Le={preview:"Preview_preview__HcFH6",previewEmoji:"Preview_previewEmoji__vjUki",previewName:"Preview_previewName__C79nL",tagList:"Preview_tagList__DielP",tag:"Preview_tag__aUSTM"};L(`.Preview_preview__HcFH6 {
  border-top: 1px solid var(--border-color);
  display: grid;
  align-items: center;
  gap: 6px;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto 1fr;
  grid-template-areas: "emoji name" "emoji tags";
  height: var(--emoji-preview-height);
  box-sizing: border-box;
  padding: 0.5em;
  position: relative;
  background: var(--preview-background-color);
}

.Preview_previewEmoji__vjUki {
  grid-area: emoji;
  font-size: var(--emoji-preview-size);
  font-family: var(--emoji-font);
  width: 1.25em;
  display: flex;
  align-items: center;
  justify-content: center;
}

.Preview_previewName__C79nL {
  grid-area: name;
  color: var(--text-color);
  font-size: 0.8em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 500;
}

.Preview_tagList__DielP {
  grid-area: tags;
  list-style-type: none;
  display: flex;
  flex-direction: row;
  padding: 0;
  margin: 0;
  font-size: 0.75em;
  overflow: hidden;
}

.Preview_tag__aUSTM {
  border-radius: 3px;
  background: var(--tag-background-color);
  color: var(--text-color);
  padding: 2px 8px;
  margin-right: 0.25em;
  white-space: nowrap;
}
.Preview_tag__aUSTM:last-child {
  margin-right: 0;
}`);var Vs=new P(({classes:e,tag:t})=>`
  <li class="${e.tag}">${t}</li>
`),Hs=new P(({classes:e})=>`
  <div class="${e.preview}">
    <div class="${e.previewEmoji}"></div>
    <div class="${e.previewName}"></div>
    <ul class="${e.tagList}"></ul>
  </div>
`),pi=class extends k{constructor(){super({template:Hs,classes:Le})}initialize(){this.uiElements={emoji:k.byClass(Le.previewEmoji),name:k.byClass(Le.previewName),tagList:k.byClass(Le.tagList)},this.appEvents={"preview:show":this.showPreview,"preview:hide":this.hidePreview},super.initialize()}showPreview(t,i){if(this.ui.emoji.replaceChildren(i),this.ui.name.textContent=t.label,t.tags){this.ui.tagList.style.display="flex";let n=t.tags.map(r=>Vs.renderSync({tag:r,classes:Le}));this.ui.tagList.replaceChildren(...n)}}hidePreview(){this.ui.emoji.replaceChildren(),this.ui.name.textContent="",this.ui.tagList.replaceChildren()}},Re={searchContainer:"Search_searchContainer__aJW7V",searchField:"Search_searchField__tENKn",clearButton:"Search_clearButton__oFTEY",searchAccessory:"Search_searchAccessory__0rdYO",clearSearchButton:"Search_clearSearchButton__AoDtB",notFound:"Search_notFound__rOdr1"};L(`.Search_searchContainer__aJW7V {
  display: flex;
  height: var(--search-height);
  box-sizing: border-box;
  padding: 0 8px;
  position: relative;
}

.Search_searchField__tENKn {
  background: var(--search-background-color);
  border-radius: 3px;
  border: none;
  box-sizing: border-box;
  color: var(--text-color);
  font-size: 0.9em;
  outline: none;
  padding-right: 2em;
  padding: 0.5em 2.25em 0.5em 0.5em;
  width: 100%;
}
.Search_searchField__tENKn:focus {
  background: var(--search-focus-background-color);
}
.Search_searchField__tENKn::placeholder {
  color: var(--search-placeholder-color);
}

.Search_clearButton__oFTEY {
  border: 0;
  color: var(--search-icon-color);
  background: transparent;
  cursor: pointer;
}

.Search_searchAccessory__0rdYO {
  color: var(--search-icon-color);
  height: 100%;
  position: absolute;
  right: 1em;
  top: 0;
  width: 1.25rem;
  display: flex;
  align-items: center;
}
.Search_searchAccessory__0rdYO svg {
  fill: var(--search-icon-color);
}

.Search_clearSearchButton__AoDtB {
  cursor: pointer;
  border: none;
  background: transparent;
  color: var(--search-icon-color);
  font-size: 1em;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  padding: 0;
}

.Search_notFound__rOdr1 [data-icon] {
  fill: #f3e265;
}`);var qs=new P(({classes:e,i18n:t})=>`
  <button title="${t.get("search.clear")}" class="${e.clearSearchButton}">
    <i data-icon="xmark"></i>
  </button>
`),Us=new P(({classes:e,i18n:t})=>`
<div class="${e.searchContainer}">
  <input class="${e.searchField}" placeholder="${t.get("search")}">
  <span class="${e.searchAccessory}"></span>
</div>
`,{mode:"async"}),fi=class extends k{constructor({categories:t,emojiVersion:i}){super({template:Us,classes:Re}),this.categories=t.filter(n=>n.key!=="recents"),this.emojiVersion=i,this.search=vs(this.search.bind(this),100)}initialize(){this.uiElements={searchField:k.byClass(Re.searchField),searchAccessory:k.byClass(Re.searchAccessory)},this.uiEvents=[k.childEvent("searchField","keydown",this.onKeyDown),k.childEvent("searchField","input",this.onSearchInput)],super.initialize()}render(){let t=Object.create(null,{render:{get:()=>super.render}});return b(this,void 0,void 0,function*(){return yield t.render.call(this),this.searchIcon=On("search"),this.notFoundMessage=this.viewFactory.create(Ne,{message:this.i18n.get("search.notFound"),className:Re.notFound,icon:"sad"}),this.notFoundMessage.renderSync(),this.errorMessage=this.viewFactory.create(Ne,{message:this.i18n.get("search.error")}),this.errorMessage.renderSync(),this.clearSearchButton=qs.render({classes:Re,i18n:this.i18n}),this.clearSearchButton.addEventListener("click",i=>this.onClearSearch(i)),this.searchField=this.ui.searchField,this.showSearchIcon(),this.el})}showSearchIcon(){this.showSearchAccessory(this.searchIcon)}showClearSearchButton(){this.showSearchAccessory(this.clearSearchButton)}showSearchAccessory(t){this.ui.searchAccessory.replaceChildren(t)}clear(){this.searchField.value="",this.showSearchIcon()}focus(){this.searchField.focus()}onClearSearch(t){var i;t.stopPropagation(),this.searchField.value="",(i=this.resultsContainer)===null||i===void 0||i.destroy(),this.resultsContainer=null,this.showSearchIcon(),this.events.emit("content:show"),this.searchField.focus()}handleResultsKeydown(t){this.resultsContainer&&t.key==="Escape"&&this.onClearSearch(t)}onKeyDown(t){var i;t.key==="Escape"&&this.searchField.value?this.onClearSearch(t):t.key!=="Enter"&&t.key!=="ArrowDown"||!this.resultsContainer||(t.preventDefault(),(i=this.resultsContainer.el.querySelector('[tabindex="0"]'))===null||i===void 0||i.focus())}onSearchInput(t){this.searchField.value?(this.showClearSearchButton(),this.search()):this.onClearSearch(t)}search(){var t;return b(this,void 0,void 0,function*(){if(this.searchField.value)try{let i=yield this.emojiData.searchEmojis(this.searchField.value,this.customEmojis,this.emojiVersion,this.categories);if(this.events.emit("preview:hide"),i.length){let n=new dt;this.resultsContainer=this.viewFactory.create(de,{emojis:i,fullHeight:!0,showVariants:!0,lazyLoader:n}),this.resultsContainer.renderSync(),!((t=this.resultsContainer)===null||t===void 0)&&t.el&&(n.observe(this.resultsContainer.el),this.resultsContainer.setActive(!0,{row:0,offset:0},!1),this.resultsContainer.el.addEventListener("keydown",r=>this.handleResultsKeydown(r)),this.events.emit("content:show",this.resultsContainer))}else this.events.emit("content:show",this.notFoundMessage)}catch{this.events.emit("content:show",this.errorMessage)}})}},Ks=new P(({classes:e})=>`
  <div class="${e.variantOverlay}">
    <div class="${e.variantPopup}">
      <div data-view="emojis" data-render="sync"></div>
    </div>
  </div>
`),Pn={variantOverlay:"VariantPopup_variantOverlay__gGwue",variantPopup:"VariantPopup_variantPopup__c2pHF"};L(`.VariantPopup_variantOverlay__gGwue {
  background: var(--overlay-background-color);
  border-radius: 5px;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: center;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
  z-index: 1;
}

.VariantPopup_variantPopup__c2pHF {
  background: var(--variant-popup-background-color);
  border-radius: 5px;
  margin: 0.5em;
  padding: 0.5em;
  text-align: center;
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: center;
}`);var Ht={easing:"ease-in-out",duration:250,fill:"both"},Tn={opacity:[0,1]},Mn={opacity:[0,1],transform:["scale3d(0.8, 0.8, 0.8)","scale3d(1, 1, 1)"]},mi=class extends k{constructor({emoji:t,parent:i}){super({template:Ks,classes:Pn,parent:i}),this.focusedEmojiIndex=0,this.focusTrap=new Oe,this.animateShow=()=>Promise.all([le(this.el,Tn,Ht,this.options),le(this.ui.popup,Mn,Ht,this.options)]),this.emoji=t}initialize(){this.uiElements={popup:k.byClass(Pn.variantPopup)},this.uiEvents=[k.uiEvent("click",this.handleClick),k.uiEvent("keydown",this.handleKeydown)],super.initialize()}animateHide(){let t=Object.assign(Object.assign({},Ht),{direction:"reverse"});return Promise.all([le(this.el,Tn,t,this.options),le(this.ui.popup,Mn,t,this.options)])}hide(){return b(this,void 0,void 0,function*(){yield this.animateHide(),this.events.emit("variantPopup:hide")})}handleKeydown(t){t.key==="Escape"&&(this.hide(),t.stopPropagation())}handleClick(t){this.ui.popup.contains(t.target)||this.hide()}getEmoji(t){return this.renderedEmojis[t]}setFocusedEmoji(t){this.getEmoji(this.focusedEmojiIndex).tabIndex=-1,this.focusedEmojiIndex=t;let i=this.getEmoji(this.focusedEmojiIndex);i.tabIndex=0,i.focus()}destroy(){this.emojiContainer.destroy(),this.focusTrap.deactivate(),super.destroy()}renderSync(){let t=[Object.assign(Object.assign({},this.emoji),{skins:null}),...(this.emoji.skins||[]).map(i=>Object.assign(Object.assign({},i),{label:this.emoji.label,tags:this.emoji.tags}))];return this.emojiContainer=this.viewFactory.create(de,{emojis:t,preview:!1}),super.renderSync({emojis:this.emojiContainer}),t.length<this.options.emojisPerRow&&this.el.style.setProperty("--emojis-per-row",t.length.toString()),this.el}activate(){this.emojiContainer.setActive(!0,{row:0,offset:0},!0),this.focusTrap.activate(this.el)}},Ws=new P(({classes:e,i18n:t,category:i,pickerId:n,icon:r})=>`
<li class="${e.categoryTab}">
  <button
    aria-selected="false"
    role="tab"
    class="${e.categoryButton}"
    tabindex="-1"
    title="${t.get(`categories.${i.key}`,i.message||i.key)}"
    type="button"
    data-category="${i.key}"
    id="${n}-category-${i.key}"
  >
    <i data-icon="${r}"></i>
</li>
`),rt={categoryButtons:"CategoryTabs_categoryButtons__dJVp-",categoryButton:"CategoryTabs_categoryButton__AsR9b",categoryTab:"CategoryTabs_categoryTab__fAgQT",categoryTabActive:"CategoryTabs_categoryTabActive__691be"};L(`.CategoryTabs_categoryButtons__dJVp- {
  --tab-size-ratio: 1.55;
  --tab-padding: 0.5em;
  --tab-area-width: calc(var(--picker-width) - (var(--tab-padding) * 2));
  --tab-size: calc((var(--tab-area-width) / var(--category-count))) / var(--tab-size-ratio);
  display: grid;
  grid-auto-columns: 1fr;
  grid-auto-flow: column;
  gap: var(--tab-gap);
  justify-content: center;
  margin: 0;
  padding: 0 var(--tab-padding);
  align-items: center;
  height: var(--category-tabs-height);
  box-sizing: border-box;
  position: relative;
  list-style-type: none;
}

.CategoryTabs_categoryButton__AsR9b {
  border-radius: 5px;
  background: transparent;
  border: 2px solid transparent;
  color: var(--category-tab-color);
  cursor: pointer;
  padding: 2px;
  vertical-align: middle;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  font-size: min(var(--tab-size), 1.2rem);
  width: 1.6em;
  height: 1.6em;
  transition: all 100ms;
}
.CategoryTabs_categoryButton__AsR9b img {
  width: var(--category-tab-size);
  height: var(--category-tab-size);
}
.CategoryTabs_categoryButton__AsR9b:hover {
  background: var(--category-tab-highlight-background-color);
}

.CategoryTabs_categoryTab__fAgQT {
  display: flex;
  align-items: center;
  justify-content: stretch;
  transition: all 100ms;
}

.CategoryTabs_categoryTabActive__691be .CategoryTabs_categoryButton__AsR9b {
  color: var(--category-tab-active-color);
  background: linear-gradient(rgba(255, 255, 255, 0.75) 0%, rgba(255, 255, 255, 0.75) 100%), linear-gradient(var(--category-tab-active-color) 0%, var(--category-tab-active-color) 100%);
  border: 2px solid var(--category-tab-active-color);
}
.CategoryTabs_categoryTabActive__691be .CategoryTabs_categoryButton__AsR9b:hover {
  background-color: var(--category-tab-active-background-color);
}`);var gi=class extends k{constructor({category:t,icon:i}){super({template:Ws,classes:rt}),this.isActive=!1,this.category=t,this.icon=i}initialize(){this.uiElements={button:k.byClass(rt.categoryButton)},this.uiEvents=[k.childEvent("button","click",this.selectCategory)],super.initialize()}renderSync(){return super.renderSync({category:this.category,icon:this.icon}),this.ui.button.ariaSelected="false",this.el}setActive(t,i=!0,n=!1){this.el.classList.toggle(rt.categoryTabActive,t),i&&this.setFocused(t,n),this.isActive=t}setFocused(t,i=!1){this.ui.button.ariaSelected=t.toString(),t?(this.ui.button.tabIndex=0,this.ui.button.focus(),i&&this.events.emit("category:select",this.category.key,{scroll:"animate",focus:"button",performFocus:!1})):this.ui.button.tabIndex=-1}selectCategory(){this.isActive||this.events.emit("category:select",this.category.key,{scroll:"animate",focus:"button",performFocus:!0})}},Ys=new P(({classes:e})=>`
  <ul role="tablist" class="${e.categoryButtons}">
    <div data-placeholder="tabs"></div>
  </ul>
`),vi=class extends k{constructor({categories:t}){super({template:Ys,classes:rt}),this.activeCategoryIndex=0,this.categories=t}initialize(){this.keyBindings={ArrowLeft:this.stepSelectedTab(-1),ArrowRight:this.stepSelectedTab(1)},super.initialize()}renderSync(){return this.tabViews=this.categories.map(t=>this.viewFactory.create(gi,{category:t,icon:st[t.key]})),super.renderSync({tabs:this.tabViews.map(t=>t.renderSync())}),this.currentTabView.setActive(!0),this.el}get currentCategory(){return this.categories[this.activeCategoryIndex]}get currentTabView(){return this.tabViews[this.activeCategoryIndex]}setActiveTab(t,i=!0,n=!0){if(t===this.activeCategoryIndex)return;let r=this.currentTabView,o=this.tabViews[t];r.setActive(!1,i),o.setActive(!0,i,n),this.activeCategoryIndex=t}getTargetCategory(t){return t<0?this.categories.length-1:t>=this.categories.length?0:t}stepSelectedTab(t){return()=>{let i=this.activeCategoryIndex+t;this.setActiveTab(this.getTargetCategory(i))}}},Gs=[{version:15,emoji:String.fromCodePoint(129768)},{version:14,emoji:String.fromCodePoint(128733)},{version:13,emoji:String.fromCodePoint(129729)},{version:12,emoji:String.fromCodePoint(129449)},{version:11,emoji:String.fromCodePoint(129463)},{version:5,emoji:String.fromCodePoint(129322)},{version:4,emoji:String.fromCodePoint(9877)},{version:3,emoji:String.fromCodePoint(129314)},{version:2,emoji:String.fromCodePoint(128488)},{version:1,emoji:String.fromCodePoint(128512)}];function Js(){var e;let t=Gs.find(i=>function(n){let r=document.createElement("canvas").getContext("2d");if(r)return r.textBaseline="top",r.font="32px Arial",r.fillText(n,0,0),r.getImageData(16,16,1,1).data[0]!==0}(i.emoji));return(e=t?.version)!==null&&e!==void 0?e:1}function qt(e,t){return Array.from({length:e},()=>t).join("")}function Qs(e){let{emojiCount:t,classes:i,theme:n,className:r}=e;return`
    <div class="${i.skeleton} ${i.picker} ${n} ${r}">
      ${(({showHeader:o,classes:a})=>o?`
    <header class="${a.header}">
      ${(({showSearch:s,classes:c})=>s?`
    <div class="${c.searchSkeleton}">
      <div class="${c.searchInput} ${c.placeholder}"></div>
    </div>
  `:"")(e)}
      ${(({showCategoryTabs:s,classes:c})=>s?`
    <div class="${c.categoryTabsSkeleton}">
      ${qt(10,`<div class="${c.placeholder} ${c.categoryTab}"></div>`)}
    </div>
  `:"")(e)}
    </header>
  `:"")(e)}
      <div class="${i.contentSkeleton}">
        <div class="${i.placeholder} ${i.categoryName}"></div>
        <div class="${i.emojiGrid}">
          ${qt(t,`<div class="${i.placeholder} ${i.emoji}"></div>`)}
        </div>
      </div>
      ${(({showPreview:o,classes:a})=>o?`
    <div class="${a.previewSkeleton}">
      <div class="${a.placeholder} ${a.previewEmoji}"></div>
      <div class="${a.placeholder} ${a.previewName}"></div>
      <ul class="${a.tagList}">
        ${qt(3,`<li class="${a.placeholder} ${a.tag}"></li>`)}
      </ul>
    </div>
  `:"")(e)}
    </div>
  `}var Zs=new P(e=>e.isLoaded?function(t){let{classes:i,theme:n,className:r=""}=t;return`
    <div class="${i.picker} ${n} ${r}">
      ${function({showHeader:o,classes:a}){return o?`
    <header class="${a.header}">
      <div data-view="search"></div>
      <div data-view="categoryTabs" data-render="sync"></div>
    </header>
  `:""}(t)}
      <div class="${i.content}">
        <div data-view="emojiArea"></div>
      </div>
      <div data-view="preview"></div>
    </div>
  `}(e):Qs(e)),it={picker:"EmojiPicker_picker__19Vln",skeleton:"EmojiPicker_skeleton__M1a2g",placeholder:"EmojiPicker_placeholder__YDJn-",shine:"EmojiPicker_shine__s-vEs",searchSkeleton:"EmojiPicker_searchSkeleton__gNgdU",searchInput:"EmojiPicker_searchInput__tpaBs",categoryTabsSkeleton:"EmojiPicker_categoryTabsSkeleton__2dISl",categoryTab:"EmojiPicker_categoryTab__mmSVF",contentSkeleton:"EmojiPicker_contentSkeleton__UWfQu",categoryName:"EmojiPicker_categoryName__d2-Ed",emojiGrid:"EmojiPicker_emojiGrid__WnoCI",emoji:"EmojiPicker_emoji__jaN-w",previewSkeleton:"EmojiPicker_previewSkeleton__Bjqkm",previewEmoji:"EmojiPicker_previewEmoji__uOLbA",previewName:"EmojiPicker_previewName__QJ47d",tagList:"EmojiPicker_tagList__tc6nv",tag:"EmojiPicker_tag__gAU6B",overlay:"EmojiPicker_overlay__kDT99",content:"EmojiPicker_content__xT6Kl",fullHeight:"EmojiPicker_fullHeight__7kz2H",pluginContainer:"EmojiPicker_pluginContainer__Gz3yT",header:"EmojiPicker_header__eDZPD"};L(`@keyframes EmojiPicker_shine__s-vEs {
  to {
    transform: translateX(100%);
  }
}
.EmojiPicker_picker__19Vln {
  --border-radius: 5px;
  --emoji-area-height: calc(
    (var(--row-count) * var(--emoji-size) * var(--emoji-size-multiplier)) + var(--category-name-height)
  );
  --content-height: var(--emoji-area-height);
  --emojis-per-row: 8;
  --row-count: 6;
  --emoji-preview-margin: 4px;
  --emoji-preview-height: calc(var(--emoji-preview-size) + 1em + 1px);
  --emoji-preview-height-full: calc(var(--emoji-preview-height) + var(--emoji-preview-margin));
  --emoji-preview-size: 2.75em;
  --emoji-size: 2rem;
  --emoji-size-multiplier: 1.3;
  --content-margin: 8px;
  --category-tabs-height: calc(1.5em + 4px + 4px + 1px);
  --category-tabs-offset: 8px;
  --category-tab-size: 1.2rem;
  --category-name-height: 2rem;
  --category-name-padding-y: 6px;
  --search-height: 2em;
  --search-margin: 0.5em;
  --search-margin-bottom: 4px;
  --search-height-full: calc(var(--search-height) + var(--search-margin) + var(--search-margin-bottom));
  --overlay-background-color: rgba(0, 0, 0, 0.8);
  --emoji-font: "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla",
    "Noto Color Emoji", "EmojiOne Color", "Android Emoji";
  --ui-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --ui-font-size: 16px;
  --picker-width: calc(var(--emojis-per-row) * var(--emoji-size) * var(--emoji-size-multiplier) + 2.75rem);
  background: var(--background-color);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  font-family: var(--ui-font);
  font-size: var(--ui-font-size);
  overflow: hidden;
  position: relative;
  width: var(--picker-width);
  display: grid;
  gap: 8px;
}
.EmojiPicker_picker__19Vln > * {
  font-family: var(--ui-font);
}

.EmojiPicker_skeleton__M1a2g {
  background: var(--background-color);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  font-family: var(--ui-font);
  width: var(--picker-width);
  color: var(--secondary-text-color);
}
.EmojiPicker_skeleton__M1a2g * {
  box-sizing: border-box;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_placeholder__YDJn- {
  background: var(--placeholder-background-color);
  position: relative;
  overflow: hidden;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_placeholder__YDJn-::after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  transform: translateX(-100%);
  background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0));
  animation: EmojiPicker_shine__s-vEs 2s infinite;
  content: "";
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_searchSkeleton__gNgdU {
  padding: 0 8px;
  height: var(--search-height);
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_searchSkeleton__gNgdU .EmojiPicker_searchInput__tpaBs {
  width: 100%;
  height: 28px;
  border-radius: 3px;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_categoryTabsSkeleton__2dISl {
  height: var(--category-tabs-height);
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  align-items: center;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_categoryTabsSkeleton__2dISl .EmojiPicker_categoryTab__mmSVF {
  width: 25px;
  height: 25px;
  padding: 2px;
  border-radius: 5px;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_contentSkeleton__UWfQu {
  height: var(--content-height);
  padding-right: 8px;
  opacity: 0.7;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_contentSkeleton__UWfQu .EmojiPicker_categoryName__d2-Ed {
  width: 50%;
  height: 1rem;
  margin: 0.5rem;
  box-sizing: border-box;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_contentSkeleton__UWfQu .EmojiPicker_emojiGrid__WnoCI {
  display: grid;
  justify-content: space-between;
  gap: 1px;
  padding: 0 0.5em;
  grid-template-columns: repeat(var(--emojis-per-row), calc(var(--emoji-size) * var(--emoji-size-multiplier)));
  grid-auto-rows: calc(var(--emoji-size) * var(--emoji-size-multiplier));
  align-items: center;
  justify-items: center;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_contentSkeleton__UWfQu .EmojiPicker_emojiGrid__WnoCI .EmojiPicker_emoji__jaN-w {
  width: var(--emoji-size);
  height: var(--emoji-size);
  border-radius: 50%;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_previewSkeleton__Bjqkm {
  height: var(--emoji-preview-height);
  border-top: 1px solid var(--border-color);
  display: grid;
  align-items: center;
  padding: 0.5em;
  gap: 6px;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto 1fr;
  grid-template-areas: "emoji name" "emoji tags";
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_previewSkeleton__Bjqkm .EmojiPicker_previewEmoji__uOLbA {
  grid-area: emoji;
  border-radius: 50%;
  width: var(--emoji-preview-size);
  height: var(--emoji-preview-size);
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_previewSkeleton__Bjqkm .EmojiPicker_previewName__QJ47d {
  grid-area: name;
  width: 12em;
  height: 0.8em;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_previewSkeleton__Bjqkm .EmojiPicker_tagList__tc6nv {
  grid-area: tags;
  list-style-type: none;
  display: flex;
  flex-direction: row;
  padding: 0;
  margin: 0;
}
.EmojiPicker_skeleton__M1a2g .EmojiPicker_previewSkeleton__Bjqkm .EmojiPicker_tagList__tc6nv .EmojiPicker_tag__gAU6B {
  border-radius: 3px;
  padding: 2px 8px;
  margin-right: 0.25em;
  height: 1em;
  width: 3em;
}

.EmojiPicker_overlay__kDT99 {
  background: rgba(0, 0, 0, 0.75);
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
}

.EmojiPicker_content__xT6Kl {
  position: relative;
  overflow: hidden;
  height: var(--content-height);
}
.EmojiPicker_content__xT6Kl.EmojiPicker_fullHeight__7kz2H {
  height: calc(var(--content-height) + var(--category-tabs-height) + var(--category-tabs-offset));
  overflow-y: auto;
  scrollbar-color: var(--scrollbar-color) var(--scrollbar-background-color);
  scrollbar-width: 8px;
}
.EmojiPicker_content__xT6Kl.EmojiPicker_fullHeight__7kz2H::-webkit-scrollbar {
  background: var(--scrollbar-background-color);
  width: 1.1em;
}
.EmojiPicker_content__xT6Kl.EmojiPicker_fullHeight__7kz2H::-webkit-scrollbar-thumb {
  background: var(--scrollbar-color);
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  background-clip: padding-box;
  height: 1em;
  border-radius: 1em;
}

.EmojiPicker_pluginContainer__Gz3yT {
  margin: 0.5em;
  display: flex;
  flex-direction: row;
}

.EmojiPicker_header__eDZPD {
  background-color: var(--secondary-background-color);
  padding-top: 8px;
  padding-bottom: 8px;
  display: grid;
  gap: 8px;
  border-bottom: 1px solid var(--border-color);
}

@media (prefers-reduced-motion: reduce) {
  .EmojiPicker_placeholder__YDJn- {
    background: var(--placeholder-background-color);
    position: relative;
    overflow: hidden;
  }
  .EmojiPicker_placeholder__YDJn-::after {
    display: none;
  }
}`);var Ln={emojisPerRow:"--emojis-per-row",visibleRows:"--row-count",emojiSize:"--emoji-size"},yi=class extends k{constructor(){super({template:Zs,classes:it}),this.pickerReady=!1,this.externalEvents=new si}initialize(){this.uiElements={pickerContent:k.byClass(it.content),header:k.byClass(it.header)},this.uiEvents=[k.uiEvent("keydown",this.handleKeyDown)],this.appEvents={error:this.onError,reinitialize:this.reinitialize,"data:ready":this.onDataReady,"content:show":this.showContent,"variantPopup:hide":this.hideVariantPopup,"emoji:select":this.selectEmoji},super.initialize(),this.options.recentsProvider}destroy(){var t,i;super.destroy(),(t=this.search)===null||t===void 0||t.destroy(),this.emojiArea.destroy(),(i=this.categoryTabs)===null||i===void 0||i.destroy(),this.events.removeAll(),this.externalEvents.removeAll()}clearRecents(){this.options.recentsProvider.clear()}addEventListener(t,i){this.externalEvents.on(t,i)}removeEventListener(t,i){this.externalEvents.off(t,i)}initializePickerView(){this.pickerReady&&(this.showContent(),this.emojiArea.reset())}handleKeyDown(t){let i=t.ctrlKey||t.metaKey;t.key==="s"&&i&&this.search&&(t.preventDefault(),this.search.focus())}buildChildViews(){return this.options.showPreview&&(this.preview=this.viewFactory.create(pi)),this.options.showSearch&&(this.search=this.viewFactory.create(fi,{categories:this.categories,emojiVersion:this.emojiVersion})),this.options.showCategoryTabs&&(this.categoryTabs=this.viewFactory.create(vi,{categories:this.categories})),this.currentView=this.emojiArea=this.viewFactory.create(ui,{categoryTabs:this.categoryTabs,categories:this.categories,emojiVersion:this.emojiVersion}),[this.preview,this.search,this.emojiArea,this.categoryTabs]}setStyleProperties(){this.options.showSearch||this.el.style.setProperty("--search-height-full","0px"),this.options.showCategoryTabs||(this.el.style.setProperty("--category-tabs-height","0px"),this.el.style.setProperty("--category-tabs-offset","0px")),this.options.showPreview||this.el.style.setProperty("--emoji-preview-height-full","0px"),Object.keys(Ln).forEach(t=>{this.options[t]&&this.el.style.setProperty(Ln[t],this.options[t].toString())})}reinitialize(){this.renderSync()}onError(t){let i=this.viewFactory.create(di,{message:this.i18n.get("error.load")}),n=this.el.offsetHeight||375;throw this.el.style.height=`${n}px`,this.el.replaceChildren(i.renderSync()),t}onDataReady(t){let i=Object.create(null,{render:{get:()=>super.render}});return b(this,void 0,void 0,function*(){let n=this.el;try{t?this.emojiData=t:yield this.emojiDataPromise,this.options.emojiVersion==="auto"?this.emojiVersion=Js()||parseFloat("14.0"):this.emojiVersion=this.options.emojiVersion,this.categories=yield this.emojiData.getCategories(this.options);let[r,o,a,s]=this.buildChildViews();yield i.render.call(this,{isLoaded:!0,search:o,categoryTabs:s,emojiArea:a,preview:r,showHeader:Boolean(this.search||this.categoryTabs),theme:this.options.theme,className:this.options.className}),this.el.style.setProperty("--category-count",this.categories.length.toString()),this.pickerReady=!0,n.replaceWith(this.el),this.setStyleProperties(),this.initializePickerView(),this.setInitialFocus(),this.externalEvents.emit("data:ready")}catch(r){this.events.emit("error",r)}})}renderSync(){if(super.renderSync({isLoaded:!1,theme:this.options.theme,showSearch:this.options.showSearch,showPreview:this.options.showPreview,showCategoryTabs:this.options.showCategoryTabs,showHeader:this.options.showSearch||this.options.showCategoryTabs,emojiCount:this.options.emojisPerRow*this.options.visibleRows}),!this.options.rootElement)throw new Error("Picker must be given a root element via the rootElement option");return this.options.rootElement.replaceChildren(this.el),this.setStyleProperties(),this.pickerReady&&this.initializePickerView(),this.el}getInitialFocusTarget(){if(this.options.autoFocus!==void 0)switch(this.options.autoFocus){case"emojis":return this.emojiArea.focusableEmoji;case"search":return this.search;default:return null}if(this.options.autoFocusSearch===!0)return console.warn("options.autoFocusSearch is deprecated, please use options.focusTarget instead"),this.search}setInitialFocus(){var t;this.pickerReady&&((t=this.getInitialFocusTarget())===null||t===void 0||t.focus())}reset(){this.pickerReady&&(this.emojiArea.reset(),this.showContent(this.emojiArea)),this.search&&this.search.clear()}showContent(t=this.emojiArea){var i,n;t!==this.currentView&&(this.currentView!==this.emojiArea&&((i=this.currentView)===null||i===void 0||i.destroy()),this.ui.pickerContent.classList.toggle(it.fullHeight,t!==this.emojiArea),this.ui.pickerContent.replaceChildren(t.el),this.currentView=t,t===this.emojiArea?(this.emojiArea.reset(),this.categoryTabs&&this.ui.header.appendChild(this.categoryTabs.el)):(n=this.categoryTabs)===null||n===void 0||n.el.remove())}hideVariantPopup(){var t;(t=this.variantPopup)===null||t===void 0||t.destroy()}isPickerClick(t){var i,n;let r=t.target,o=this.el.contains(r),a=(n=(i=this.variantPopup)===null||i===void 0?void 0:i.el)===null||n===void 0?void 0:n.contains(r);return o||a}selectEmoji({emoji:t}){var i,n;return b(this,void 0,void 0,function*(){((i=t.skins)===null||i===void 0?void 0:i.length)&&this.options.showVariants&&!this.isVariantPopupOpen?this.showVariantPopup(t):(yield(n=this.variantPopup)===null||n===void 0?void 0:n.animateHide(),this.events.emit("variantPopup:hide"),yield this.emitEmoji(t))})}get isVariantPopupOpen(){return this.variantPopup&&!this.variantPopup.isDestroyed}showVariantPopup(t){return b(this,void 0,void 0,function*(){let i=document.activeElement;this.events.once("variantPopup:hide",()=>{i?.focus()}),this.variantPopup=this.viewFactory.create(mi,{emoji:t,parent:this.el}),this.el.appendChild(this.variantPopup.renderSync()),this.variantPopup.activate()})}emitEmoji(t){return b(this,void 0,void 0,function*(){this.externalEvents.emit("emoji:select",yield this.renderer.doEmit(t)),this.options.recentsProvider.addOrUpdateRecent(t,this.options.maxRecents),this.events.emit("recent:add",t)})}},bi=class{constructor({events:t,i18n:i,renderer:n,emojiData:r,options:o,customEmojis:a=[],pickerId:s}){this.events=t,this.i18n=i,this.renderer=n,this.emojiData=r,this.options=o,this.customEmojis=a,this.pickerId=s}setEmojiData(t){this.emojiData=Promise.resolve(t)}create(t,...i){let n=new t(...i);return n.setPickerId(this.pickerId),n.setEvents(this.events),n.setI18n(this.i18n),n.setRenderer(this.renderer),n.setEmojiData(this.emojiData),n.setOptions(this.options),n.setCustomEmojis(this.customEmojis),n.viewFactory=this,n.initialize(),n}},ot,ki=class{constructor(t={}){ot.set(this,void 0),Kt(this,ot,new Map(Object.entries(t)),"f")}get(t,i=t){return S(this,ot,"f").get(t)||i}};ot=new WeakMap;var Xs=0;function Fn(e){let t=_i(e),i=(t?.custom||[]).map(s=>Object.assign(Object.assign({},s),{custom:!0,tags:["custom",...s.tags||[]]})),n=new oi,r=function(s){return zn(s.locale,s.dataStore,s.messages,s.emojiData)}(t),o=new ki(t.i18n);r.then(s=>{n.emit("data:ready",s)}).catch(s=>{n.emit("error",s)});let a=new bi({events:n,i18n:o,customEmojis:i,renderer:t.renderer,options:t,emojiData:r,pickerId:`picmo-${Date.now()}-${Xs++}`}).create(yi);return a.renderSync(),a}var Ut={};function ea(e){return Ut[e]||(Ut[e]=new xi(e)),Ut[e]}ea.deleteDatabase=e=>{};var xi=class extends lt{open(){return Promise.resolve()}delete(){return Promise.resolve()}close(){}isPopulated(){return Promise.resolve(!1)}getEmojiCount(){return Promise.resolve(this.emojis.length)}getEtags(){return Promise.resolve({foo:"bar"})}getHash(){return Promise.resolve("")}populate(t){return this.categories=t.groups,this.emojis=t.emojis,Promise.resolve()}getCategories(t){var i;let n=this.categories.filter(r=>r.key!=="component");if(t.showRecents&&n.unshift({key:"recents",order:-1}),!((i=t.custom)===null||i===void 0)&&i.length&&n.push({key:"custom",order:10}),t.categories){let r=t.categories;n=n.filter(o=>r.includes(o.key)),n.sort((o,a)=>r.indexOf(o.key)-r.indexOf(a.key))}else n.sort((r,o)=>r.order-o.order);return Promise.resolve(n)}getEmojis(t,i){let n=this.emojis.filter(r=>r.group===t.order).filter(r=>r.version<=i).sort((r,o)=>r.order!=null&&o.order!=null?r.order-o.order:0).map(Ie);return Promise.resolve(at(n,i))}searchEmojis(t,i,n,r){let o=this.emojis.filter(c=>ct(c,t,r)).map(Ie),a=i.filter(c=>ct(c,t,r)),s=[...at(o,n),...a];return Promise.resolve(s)}setMeta(t){this.meta=t}};function Z(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function s(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){var h;l.done?r(l.value):(h=l.value,h instanceof i?h:new i(function(u){u(h)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}var Ci=class extends ue{};function pe(e){return e.split("-")[0]}function ye(e){return e.split("-")[1]}function vt(e){return["top","bottom"].includes(pe(e))?"x":"y"}function Yn(e){return e==="y"?"height":"width"}function Nn(e,t,i){let{reference:n,floating:r}=e,o=n.x+n.width/2-r.width/2,a=n.y+n.height/2-r.height/2,s=vt(t),c=Yn(s),l=n[c]/2-r[c]/2,h=s==="x",u;switch(pe(t)){case"top":u={x:o,y:n.y-r.height};break;case"bottom":u={x:o,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:a};break;case"left":u={x:n.x-r.width,y:a};break;default:u={x:n.x,y:n.y}}switch(ye(t)){case"start":u[s]-=l*(i&&h?-1:1);break;case"end":u[s]+=l*(i&&h?-1:1)}return u}function pt(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Si(e,t){var i;t===void 0&&(t={});let{x:n,y:r,platform:o,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:d=!1,padding:p=0}=t,m=function(w){return typeof w!="number"?function(E){return{top:0,right:0,bottom:0,left:0,...E}}(w):{top:w,right:w,bottom:w,left:w}}(p),f=s[d?u==="floating"?"reference":"floating":u],v=pt(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(f)))==null||i?f:f.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:l,rootBoundary:h,strategy:c})),y=pt(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u==="floating"?{...a.floating,x:n,y:r}:a.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),strategy:c}):a[u]);return{top:v.top-y.top+m.top,bottom:y.bottom-v.bottom+m.bottom,left:v.left-y.left+m.left,right:y.right-v.right+m.right}}var ta=Math.min,ia=Math.max;function Dn(e,t,i){return ia(e,ta(t,i))}var na={left:"right",right:"left",bottom:"top",top:"bottom"};function ft(e){return e.replace(/left|right|bottom|top/g,t=>na[t])}function Gn(e,t,i){i===void 0&&(i=!1);let n=ye(e),r=vt(e),o=Yn(r),a=r==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=ft(a)),{main:a,cross:ft(a)}}var ra={start:"end",end:"start"};function Ei(e){return e.replace(/start|end/g,t=>ra[t])}var oa=["top","right","bottom","left"].reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),sa=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,n,r,o,a;let{x:s,y:c,rects:l,middlewareData:h,placement:u,platform:d,elements:p}=t,{alignment:m=null,allowedPlacements:f=oa,autoAlignment:v=!0,...y}=e,w=function($,ke,xe){return($?[...xe.filter(H=>ye(H)===$),...xe.filter(H=>ye(H)!==$)]:xe.filter(H=>pe(H)===H)).filter(H=>!$||ye(H)===$||!!ke&&Ei(H)!==H)}(m,v,f),E=await Si(t,y),_=(i=(n=h.autoPlacement)==null?void 0:n.index)!=null?i:0,C=w[_];if(C==null)return{};let{main:A,cross:T}=Gn(C,l,await(d.isRTL==null?void 0:d.isRTL(p.floating)));if(u!==C)return{x:s,y:c,reset:{placement:w[0]}};let M=[E[pe(C)],E[A],E[T]],R=[...(r=(o=h.autoPlacement)==null?void 0:o.overflows)!=null?r:[],{placement:C,overflows:M}],D=w[_+1];if(D)return{data:{index:_+1,overflows:R},reset:{placement:D}};let be=R.slice().sort(($,ke)=>$.overflows[0]-ke.overflows[0]),te=(a=be.find($=>{let{overflows:ke}=$;return ke.every(xe=>xe<=0)}))==null?void 0:a.placement,J=te??be[0].placement;return J!==u?{data:{index:_+1,overflows:R},reset:{placement:J}}:{}}}},aa=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i;let{placement:n,middlewareData:r,rects:o,initialPlacement:a,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",flipAlignment:p=!0,...m}=e,f=pe(n),v=u||(f===a||!p?[ft(a)]:function(M){let R=ft(M);return[Ei(M),R,Ei(R)]}(a)),y=[a,...v],w=await Si(t,m),E=[],_=((i=r.flip)==null?void 0:i.overflows)||[];if(l&&E.push(w[f]),h){let{main:M,cross:R}=Gn(n,o,await(s.isRTL==null?void 0:s.isRTL(c.floating)));E.push(w[M],w[R])}if(_=[..._,{placement:n,overflows:E}],!E.every(M=>M<=0)){var C,A;let M=((C=(A=r.flip)==null?void 0:A.index)!=null?C:0)+1,R=y[M];if(R)return{data:{index:M,overflows:_},reset:{placement:R}};let D="bottom";switch(d){case"bestFit":{var T;let be=(T=_.map(te=>[te,te.overflows.filter(J=>J>0).reduce((J,$)=>J+$,0)]).sort((te,J)=>te[1]-J[1])[0])==null?void 0:T[0].placement;be&&(D=be);break}case"initialPlacement":D=a}if(n!==D)return{reset:{placement:D}}}return{}}}},$n=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:i,y:n}=t,r=await async function(o,a){let{placement:s,platform:c,elements:l}=o,h=await(c.isRTL==null?void 0:c.isRTL(l.floating)),u=pe(s),d=ye(s),p=vt(s)==="x",m=["left","top"].includes(u)?-1:1,f=h&&p?-1:1,v=typeof a=="function"?a(o):a,{mainAxis:y,crossAxis:w,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return d&&typeof E=="number"&&(w=d==="end"?-1*E:E),p?{x:w*f,y:y*m}:{x:y*m,y:w*f}}(t,e);return{x:i+r.x,y:n+r.y,data:r}}}},Vn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:i,y:n,placement:r}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...c}=e,l={x:i,y:n},h=await Si(t,c),u=vt(pe(r)),d=u==="x"?"y":"x",p=l[u],m=l[d];if(o){let v=u==="y"?"bottom":"right";p=Dn(p+h[u==="y"?"top":"left"],p,p-h[v])}if(a){let v=d==="y"?"bottom":"right";m=Dn(m+h[d==="y"?"top":"left"],m,m-h[v])}let f=s.fn({...t,[u]:p,[d]:m});return{...f,data:{x:f.x-i,y:f.y-n}}}}};function Jn(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function G(e){if(e==null)return window;if(!Jn(e)){let t=e.ownerDocument;return t&&t.defaultView||window}return e}function $e(e){return G(e).getComputedStyle(e)}function W(e){return Jn(e)?"":e?(e.nodeName||"").toLowerCase():""}function Qn(){let e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function U(e){return e instanceof G(e).HTMLElement}function ee(e){return e instanceof G(e).Element}function Pi(e){return typeof ShadowRoot>"u"?!1:e instanceof G(e).ShadowRoot||e instanceof ShadowRoot}function yt(e){let{overflow:t,overflowX:i,overflowY:n}=$e(e);return/auto|scroll|overlay|hidden/.test(t+n+i)}function ca(e){return["table","td","th"].includes(W(e))}function Hn(e){let t=/firefox/i.test(Qn()),i=$e(e);return i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].includes(i.willChange)||t&&i.willChange==="filter"||t&&!!i.filter&&i.filter!=="none"}function Zn(){return!/^((?!chrome|android).)*safari/i.test(Qn())}var qn=Math.min,De=Math.max,mt=Math.round;function Y(e,t,i){var n,r,o,a;t===void 0&&(t=!1),i===void 0&&(i=!1);let s=e.getBoundingClientRect(),c=1,l=1;t&&U(e)&&(c=e.offsetWidth>0&&mt(s.width)/e.offsetWidth||1,l=e.offsetHeight>0&&mt(s.height)/e.offsetHeight||1);let h=ee(e)?G(e):window,u=!Zn()&&i,d=(s.left+(u&&(n=(r=h.visualViewport)==null?void 0:r.offsetLeft)!=null?n:0))/c,p=(s.top+(u&&(o=(a=h.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/l,m=s.width/c,f=s.height/l;return{width:m,height:f,top:p,right:d+m,bottom:p+f,left:d,x:d,y:p}}function X(e){return(t=e,(t instanceof G(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function bt(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Xn(e){return Y(X(e)).left+bt(e).scrollLeft}function la(e,t,i){let n=U(t),r=X(t),o=Y(e,n&&function(c){let l=Y(c);return mt(l.width)!==c.offsetWidth||mt(l.height)!==c.offsetHeight}(t),i==="fixed"),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(n||!n&&i!=="fixed")if((W(t)!=="body"||yt(r))&&(a=bt(t)),U(t)){let c=Y(t,!0);s.x=c.x+t.clientLeft,s.y=c.y+t.clientTop}else r&&(s.x=Xn(r));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function er(e){return W(e)==="html"?e:e.assignedSlot||e.parentNode||(Pi(e)?e.host:null)||X(e)}function Un(e){return U(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function ji(e){let t=G(e),i=Un(e);for(;i&&ca(i)&&getComputedStyle(i).position==="static";)i=Un(i);return i&&(W(i)==="html"||W(i)==="body"&&getComputedStyle(i).position==="static"&&!Hn(i))?t:i||function(n){let r=er(n);for(Pi(r)&&(r=r.host);U(r)&&!["html","body"].includes(W(r));){if(Hn(r))return r;r=r.parentNode}return null}(e)||t}function Kn(e){if(U(e))return{width:e.offsetWidth,height:e.offsetHeight};let t=Y(e);return{width:t.width,height:t.height}}function tr(e){let t=er(e);return["html","body","#document"].includes(W(t))?e.ownerDocument.body:U(t)&&yt(t)?t:tr(t)}function gt(e,t){var i;t===void 0&&(t=[]);let n=tr(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),o=G(n),a=r?[o].concat(o.visualViewport||[],yt(n)?n:[]):n,s=t.concat(a);return r?s:s.concat(gt(a))}function Wn(e,t,i){return t==="viewport"?pt(function(n,r){let o=G(n),a=X(n),s=o.visualViewport,c=a.clientWidth,l=a.clientHeight,h=0,u=0;if(s){c=s.width,l=s.height;let d=Zn();(d||!d&&r==="fixed")&&(h=s.offsetLeft,u=s.offsetTop)}return{width:c,height:l,x:h,y:u}}(e,i)):ee(t)?function(n,r){let o=Y(n,!1,r==="fixed"),a=o.top+n.clientTop,s=o.left+n.clientLeft;return{top:a,left:s,x:s,y:a,right:s+n.clientWidth,bottom:a+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}(t,i):pt(function(n){var r;let o=X(n),a=bt(n),s=(r=n.ownerDocument)==null?void 0:r.body,c=De(o.scrollWidth,o.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=De(o.scrollHeight,o.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),h=-a.scrollLeft+Xn(n),u=-a.scrollTop;return $e(s||o).direction==="rtl"&&(h+=De(o.clientWidth,s?s.clientWidth:0)-c),{width:c,height:l,x:h,y:u}}(X(e)))}function ha(e){let t=gt(e),i=["absolute","fixed"].includes($e(e).position)&&U(e)?ji(e):e;return ee(i)?t.filter(n=>ee(n)&&function(r,o){let a=o.getRootNode==null?void 0:o.getRootNode();if(r.contains(o))return!0;if(a&&Pi(a)){let s=o;do{if(s&&r===s)return!0;s=s.parentNode||s.host}while(s)}return!1}(n,i)&&W(n)!=="body"):[]}var ua={getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:n,strategy:r}=e,o=[...i==="clippingAncestors"?ha(t):[].concat(i),n],a=o[0],s=o.reduce((c,l)=>{let h=Wn(t,l,r);return c.top=De(h.top,c.top),c.right=qn(h.right,c.right),c.bottom=qn(h.bottom,c.bottom),c.left=De(h.left,c.left),c},Wn(t,a,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:i,strategy:n}=e,r=U(i),o=X(i);if(i===o)return t;let a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if((r||!r&&n!=="fixed")&&((W(i)!=="body"||yt(o))&&(a=bt(i)),U(i))){let c=Y(i,!0);s.x=c.x+i.clientLeft,s.y=c.y+i.clientTop}return{...t,x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y}},isElement:ee,getDimensions:Kn,getOffsetParent:ji,getDocumentElement:X,getElementRects:e=>{let{reference:t,floating:i,strategy:n}=e;return{reference:la(t,ji(i),n),floating:{...Kn(i),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>$e(e).direction==="rtl"},da=(e,t,i)=>(async(n,r,o)=>{let{placement:a="bottom",strategy:s="absolute",middleware:c=[],platform:l}=o,h=await(l.isRTL==null?void 0:l.isRTL(r)),u=await l.getElementRects({reference:n,floating:r,strategy:s}),{x:d,y:p}=Nn(u,a,h),m=a,f={},v=0;for(let y=0;y<c.length;y++){let{name:w,fn:E}=c[y],{x:_,y:C,data:A,reset:T}=await E({x:d,y:p,initialPlacement:a,placement:m,strategy:s,middlewareData:f,rects:u,platform:l,elements:{reference:n,floating:r}});d=_??d,p=C??p,f={...f,[w]:{...f[w],...A}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(u=T.rects===!0?await l.getElementRects({reference:n,floating:r,strategy:s}):T.rects),{x:d,y:p}=Nn(u,m,h)),y=-1)}return{x:d,y:p,placement:m,strategy:s,middlewareData:f}})(e,t,{platform:ua,...i});function pa(e,t,i){return Z(this,void 0,void 0,function*(){if(!i)throw new Error("Must provide a positioning option");return yield typeof i=="string"?function(n,r,o){return Z(this,void 0,void 0,function*(){if(!r)throw new Error("Reference element is required for relative positioning");let a;return a=o==="auto"?{middleware:[sa(),Vn(),$n({mainAxis:5,crossAxis:12})]}:{placement:o,middleware:[aa(),Vn(),$n(5)]},function(s,c,l,h){h===void 0&&(h={});let{ancestorScroll:u=!0,ancestorResize:d=!0,elementResize:p=!0,animationFrame:m=!1}=h,f=u&&!m,v=d&&!m,y=f||v?[...ee(s)?gt(s):[],...gt(c)]:[];y.forEach(C=>{f&&C.addEventListener("scroll",l,{passive:!0}),v&&C.addEventListener("resize",l)});let w,E=null;if(p){let C=!0;E=new ResizeObserver(()=>{C||l(),C=!1}),ee(s)&&!m&&E.observe(s),E.observe(c)}let _=m?Y(s):null;return m&&function C(){let A=Y(s);!_||A.x===_.x&&A.y===_.y&&A.width===_.width&&A.height===_.height||l(),_=A,w=requestAnimationFrame(C)}(),l(),()=>{var C;y.forEach(A=>{f&&A.removeEventListener("scroll",l),v&&A.removeEventListener("resize",l)}),(C=E)==null||C.disconnect(),E=null,m&&cancelAnimationFrame(w)}}(r,n,()=>Z(this,void 0,void 0,function*(){let{x:s,y:c}=yield da(r,n,a);Object.assign(n.style,{position:"absolute",left:`${s}px`,top:`${c}px`})}))})}(e,t,i):function(n,r){return n.style.position="fixed",Object.entries(r).forEach(([o,a])=>{n.style[o]=a}),()=>{}}(e,i)})}var fa={hideOnClickOutside:!0,hideOnEmojiSelect:!0,hideOnEscape:!0,position:"auto",showCloseButton:!0},ma="popupPicker_popupContainer__-DboI",ga="popupPicker_closeButton__j1nuQ";(function(e,t){t===void 0&&(t={});var i=t.insertAt;if(e&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",i==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}})(`.popupPicker_popupContainer__-DboI {
  display: flex;
  flex-direction: column;
  position: absolute;
}

.popupPicker_closeButton__j1nuQ {
  position: absolute;
  opacity: 0;
  background: transparent;
  border: none;
  z-index: 1;
  right: 0;
  top: 0;
  cursor: pointer;
  padding: 4px;
  align-self: flex-end;
  transform: translate(50%, -50%);
  background: #999999;
  width: 1.5rem;
  height: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}
.popupPicker_closeButton__j1nuQ:hover {
  background: var(--accent-color);
}
.popupPicker_closeButton__j1nuQ svg {
  fill: white;
  width: 1.25rem;
  height: 1.25rem;
}`);var Ai=class{constructor(t,i){this.isOpen=!1,this.externalEvents=new Ci,this.options=Object.assign(Object.assign({},function(r={}){return Object.assign(Object.assign(Object.assign({},fa),{rootElement:document.body}),r)}(i)),_i(t)),this.popupEl=document.createElement("div"),this.popupEl.classList.add(ma),this.popupEl.classList.add(this.options.theme),i.className&&this.popupEl.classList.add(i.className),this.options.showCloseButton&&(this.closeButton=document.createElement("button"),this.closeButton.classList.add(ga),this.closeButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>',this.popupEl.appendChild(this.closeButton));let n=document.createElement("div");this.popupEl.appendChild(n),this.picker=Fn(Object.assign(Object.assign({},this.options),{rootElement:n})),this.focusTrap=new Oe,this.picker.addEventListener("data:ready",()=>{this.focusTrap.activate(this.picker.el),this.picker.setInitialFocus()}),this.options.hideOnEmojiSelect&&this.picker.addEventListener("emoji:select",()=>{this.close()}),this.options.hideOnClickOutside&&(this.onDocumentClick=this.onDocumentClick.bind(this),document.addEventListener("click",this.onDocumentClick)),this.options.hideOnEscape&&(this.handleKeydown=this.handleKeydown.bind(this),this.popupEl.addEventListener("keydown",this.handleKeydown))}addEventListener(t,i){this.externalEvents.on(t,i),this.picker.addEventListener(t,i)}removeEventListener(t,i){this.externalEvents.off(t,i),this.picker.removeEventListener(t,i)}handleKeydown(t){t.key==="Escape"&&this.close()}destroy(){return Z(this,void 0,void 0,function*(){this.isOpen&&(yield this.close()),document.removeEventListener("click",this.onDocumentClick),this.picker.destroy(),this.externalEvents.removeAll()})}toggle(){return this.isOpen?this.close():this.open()}open(){return Z(this,void 0,void 0,function*(){this.isOpen||(yield this.initiateOpenStateChange(!0),this.options.rootElement.appendChild(this.popupEl),yield this.setPosition(),this.picker.reset(),yield this.animatePopup(!0),yield this.animateCloseButton(!0),this.picker.setInitialFocus(),this.externalEvents.emit("picker:open"))})}close(){var t,i;return Z(this,void 0,void 0,function*(){this.isOpen&&(yield this.initiateOpenStateChange(!1),yield this.animateCloseButton(!1),yield this.animatePopup(!1),this.popupEl.remove(),this.picker.reset(),(t=this.positionCleanup)===null||t===void 0||t.call(this),this.focusTrap.deactivate(),(i=this.options.triggerElement)===null||i===void 0||i.focus(),this.externalEvents.emit("picker:close"))})}getRunningAnimations(){return this.picker.el.getAnimations().filter(t=>t.playState==="running")}setPosition(){var t;return Z(this,void 0,void 0,function*(){(t=this.positionCleanup)===null||t===void 0||t.call(this),this.positionCleanup=yield pa(this.popupEl,this.options.referenceElement,this.options.position)})}awaitPendingAnimations(){return Promise.all(this.getRunningAnimations().map(t=>t.finished))}onDocumentClick(t){var i;let n=t.target,r=(i=this.options.triggerElement)===null||i===void 0?void 0:i.contains(n);!this.isOpen||this.picker.isPickerClick(t)||r||this.close()}animatePopup(t){return le(this.picker.el,{opacity:[0,1],transform:["scale(0.9)","scale(1)"]},{duration:150,id:t?"show-picker":"hide-picker",easing:"ease-in-out",direction:t?"normal":"reverse",fill:"both"},this.options)}animateCloseButton(t){if(this.closeButton)return le(this.closeButton,{opacity:[0,1]},{duration:25,id:t?"show-close":"hide-close",easing:"ease-in-out",direction:t?"normal":"reverse",fill:"both"},this.options)}initiateOpenStateChange(t){return Z(this,void 0,void 0,function*(){this.isOpen=t,yield this.awaitPendingAnimations()})}};function ir(e,t){return new Ai(e,t)}var nr={"categories.activities":"Actividades","categories.animals-nature":"Animales y Naturaleza","categories.custom":"Custom","categories.flags":"Banderas","categories.food-drink":"Comida y Bebida","categories.objects":"Objectos","categories.people-body":"Personas y Cuerpo","categories.recents":"Recientemente Usado","categories.smileys-emotion":"Emoticonos y Emociones","categories.symbols":"Simbolos","categories.travel-places":"Viajes y Lugares","error.load":"Error al cargar emojis","recents.clear":"Borrar emojis recientes","recents.none":"A\xFAn no has seleccionado ning\xFAn emoji",retry:"Intentar otra vez","search.clear":"Borrar b\xFAsqueda","search.error":"Error al buscar emojis","search.notFound":"No se han encontrado resultados",search:"Buscar emojis..."},rr={"categories.activities":"Activit\xE9s","categories.animals-nature":"Animaux et Nature","categories.custom":"Custom","categories.flags":"Drapeaux","categories.food-drink":"Comida y Bebida","categories.objects":"Nourriture et Boisson","categories.people-body":"Les gens et le Corps","categories.recents":"Utilis\xE9 R\xE9cemment","categories.smileys-emotion":"\xC9motic\xF4nes et \xC9motions","categories.symbols":"Simbolos","categories.travel-places":"Symboles","error.load":"Error al cargar emojis","recents.clear":"Erreur de chargement des emoji","recents.none":"Vous n'avez pas encore s\xE9lectionn\xE9 d'emoji",retry:"R\xE9essayer","search.clear":"Effacer la recherche","search.error":"Erreur lors de la recherche d'emojis","search.notFound":"Aucun r\xE9sultat trouv\xE9",search:"Rechercher des \xE9motic\xF4nes..."},or={"categories.activities":"Atividades","categories.animals-nature":"Animais e Natureza","categories.custom":"Custom","categories.flags":"Bandeiras","categories.food-drink":"Comida e Bebida","categories.objects":"Objectos","categories.people-body":"Pessoas e Corpo","categories.recents":"Usado Recentemente","categories.smileys-emotion":"Emoticons e Emo\xE7\xF5es","categories.symbols":"Simbolos","categories.travel-places":"S\xEDmbolos","error.load":"Erro ao carregar emoji","recents.clear":"Limpar emojis recentes","recents.none":"Voc\xEA ainda n\xE3o selecionou nenhum emoji",retry:"Tente novamente","search.clear":"Limpar pesquisa","search.error":"Erro ao pesquisar emojis","search.notFound":"N\xE3o foram encontrados resultados",search:"Pesquisar emoticons..."},sr={"categories.activities":"Aktivit\xE4ten","categories.animals-nature":"Tiere und Natur","categories.custom":"Custom","categories.flags":"Flaggen","categories.food-drink":"Essen und Trinken","categories.objects":"Objekte","categories.people-body":"Mensch und K\xF6rper","categories.recents":"K\xFCrzlich Verwendet","categories.smileys-emotion":"Emoticons und Emotionen","categories.symbols":"Symbole","categories.travel-places":"Reisen und Orte","error.load":"Fehler beim Laden von Emoji","recents.clear":"Letzte Emojis l\xF6schen","recents.none":"Sie haben noch kein Emoji ausgew\xE4hlt",retry:"Versuchen Sie es nochmal","search.clear":"Saubere Suche","search.error":"Fehler bei der Suche nach Emojis","search.notFound":"keine Ergebnisse gefunden",search:"Emoji suchen..."},kt={en:"Write your message",es:"Escriba su mensaje",fr:"R\xE9digez votre message",pt:"Escreva sua mensagem",de:"Schreibe deine Nachricht"};var xt=class extends HTMLElement{get isOpen(){return this.getAttribute("isOpen")}set isOpen(t){t?this.getAttribute("isOpen",""):this.removeAttribute("isOpen")}get websocketUrl(){return this.getAttribute("websocketUrl")}set websocketUrl(t){t?this.setAttribute("websocketUrl",t):this.removeAttribute("websocketUrl")}get initialPayload(){return this.getAttribute("initialPayload")}set initialPayload(t){t?this.setAttribute("initialPayload",t):this.removeAttribute("initialPayload")}get gradA(){return this.getAttribute("gradA")}set gradA(t){t?this.setAttribute("gradA",t):this.removeAttribute("gradA")}get gradB(){return this.getAttribute("gradB")}set gradB(t){t?this.setAttribute("gradB",t):this.removeAttribute("gradB")}get bgClient(){return this.getAttribute("bgClient")}set bgClient(t){t?this.setAttribute("bgClient",t):this.removeAttribute("bgClient")}get clientColor(){return this.getAttribute("clientColor")}set clientColor(t){t?this.setAttribute("clientColor",t):this.removeAttribute("clientColor")}get showTime(){return this.getAttribute("showTime")}set showTime(t){t?this.setAttribute("showTime",""):this.removeAttribute("showTime")}get brand(){return this.getAttribute("brand")}set brand(t){t?this.setAttribute("brand",t):this.removeAttribute("brand")}get slogan(){return this.getAttribute("slogan")}set slogan(t){t?this.setAttribute("slogan",t):this.removeAttribute("slogan")}get brandAvatar(){return this.getAttribute("brandAvatar")}set brandAvatar(t){t?this.setAttribute("brandAvatar",t):this.removeAttribute("brandAvatar")}get emoji(){return this.getAttribute("emoji")}set emoji(t){t?this.setAttribute("emoji",t):this.removeAttribute("emoji")}get height(){return this.getAttribute("height")}set height(t){t?this.setAttribute("height",t):this.removeAttribute("height")}get width(){return this.getAttribute("width")}set width(t){t?this.setAttribute("width",t):this.removeAttribute("width")}constructor(){super(),this.defaults={isOpen:!1,websocketUrl:"http://localhost:5005",initialPayload:"/",gradA:"#243A4B",gradB:"#386370",bgClient:"#386370",clientColor:"#FFFFFF",showTime:!0,brand:"AI Widget",slogan:"Connect RASA with style",brandAvatar:"default",emoji:"basic",height:450,width:350},this.online=!1,this.open=!1,this.uuid=!1,this.socket=!1,this.lan=navigator.language||navigator.userLanguage}isMobile(){var t=window.matchMedia||window.msMatchMedia;if(t){var i=t("(pointer:coarse)");return i.matches}return!1}toogleOpen(t){this.open?(t.preventDefault(),this.botSuport.classList.remove("bot-open"),this.botButton.children[0].innerHTML=this.icons.isNotClicked,this.open=!1):this.open===!1&&(t.preventDefault(),this.online===!1&&this.openSocket(),this.botSuport.classList.add("bot-open"),this.botButton.children[0].innerHTML=this.icons.isClicked,this.open=!0)}appendMessage(t,i){let n=document.createElement("div");n.innerHTML=t;let r=document.createElement("span"),o=new Date;r.textContent=o.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),n.appendChild(r),n.classList.add("messages-item","is-client"),i.insertBefore(n,i.children[0]),i.scrollTop=i.scrollHeight}_getSessionId(){let i=decodeURIComponent(document.cookie).split("; ");var n;if(i.forEach(r=>{r.indexOf("uuid=")===0&&(n=r.substring(5))}),n===void 0){n=crypto.randomUUID();let r=new Date;r.setTime(r.getTime()+30*24*60*60*1e3);let o="expires="+r.toUTCString();document.cookie="uuid="+n+", "+o+", path=/ ; SameSite=None; Secure"}return n}openSocket(){var t=new q;let i=this.botMesagges;this.uuid=this._getSessionId();var n=Pe(this.websocketUrl,{autoConnect:!0});n.on("connect",()=>{console.log("SOCKET: connected to the socket server",n.connected,this.uuid),n.emit("session_request",{session_id:this.uuid}),this.initialPayload!="/"&&(n.emit("user_uttered",{session_id:this.uuid,message:this.initialPayload}),console.log("sendig payload")),this.setAttribute("online",!0)}),n.on("error",r=>{console.log("SOCKET: errors",r),this.setAttribute("online",!1)}),n.on("connect_error",r=>{console.log("SOCKET: connect_error ---->",r),this.setAttribute("online",!1)}),n.on("disconnect",r=>{console.log(r)}),n.on("bot_uttered",r=>{let o=Object.keys(r);for(let s=0;s<o.length;s++){var a={};a[o[s]]=r[o[s]],this.responsesQueue.push(a)}}),this.socket=n}connectedCallback(){let t=this.attachShadow({mode:"open"});this.icons={isClicked:'<svg x="0px" y="0px" viewBox="0 0 30 30" width="30" height="30" xmlns="http://www.w3.org/2000/svg"> <g id="g4"      transform="matrix(0.06696429,0,0,0.06696429,-2.1428571,-2.2098214)"><path d="M 256,33 C 132.3,33 32,133.3 32,257 32,380.7 132.3,481 256,481 379.7,481 480,380.7 480,257 480,133.3 379.7,33 256,33 Z m 108.3,299.5 c 1.5,1.5 2.3,3.5 2.3,5.6 0,2.1 -0.8,4.2 -2.3,5.6 l -21.6,21.7 c -1.6,1.6 -3.6,2.3 -5.6,2.3 -2,0 -4.1,-0.8 -5.6,-2.3 L 256,289.8 180.6,365.5 c -1.5,1.6 -3.6,2.3 -5.6,2.3 -2,0 -4.1,-0.8 -5.6,-2.3 l -21.6,-21.7 c -1.5,-1.5 -2.3,-3.5 -2.3,-5.6 0,-2.1 0.8,-4.2 2.3,-5.6 l 75.7,-76 -75.9,-75 c -3.1,-3.1 -3.1,-8.2 0,-11.3 l 21.6,-21.7 c 1.5,-1.5 3.5,-2.3 5.6,-2.3 2.1,0 4.1,0.8 5.6,2.3 l 75.7,74.7 75.7,-74.7 c 1.5,-1.5 3.5,-2.3 5.6,-2.3 2.1,0 4.1,0.8 5.6,2.3 l 21.6,21.7 c 3.1,3.1 3.1,8.2 0,11.3 l -75.9,75 z"  id="path2" fill="'+this.gradA+'" /></g></svg>',isNotClicked:'<svg x="0px" y="0px" viewBox="0 0 30 30" width="30" height="30" xmlns="http://www.w3.org/2000/svg"> <g id="XMLID_1202_"    transform="matrix(0.06521739,0,0,0.06519286,0,-0.38460043)"> 	<g id="g8"> <g    id="g6"> <path    d="M 440.047,396.143 C 426.855,390.936 415.321,381.986 407.003,370.333 439.582,348.319 460,316.762 460,281.701 c 0,-38.367 -24.445,-72.543 -62.527,-94.602 -4.023,92.95 -102.669,159.14 -213.667,159.14 -9.342,0 -18.6,-0.481 -27.755,-1.387 28.905,34.387 80.701,57.309 139.8,57.309 21.556,0 42.138,-3.055 60.996,-8.597 16.873,15.79 40.876,23.447 65.237,18.454 6.542,-1.341 12.702,-3.51 18.395,-6.376 1.834,-0.923 2.955,-2.838 2.862,-4.889 -0.094,-2.053 -1.384,-3.856 -3.294,-4.61 z"     id="path2" fill="'+this.gradA+'"  /> <path d="M 367.612,181.353 C 367.612,106.858 285.319,46.468 183.806,46.468 82.293,46.468 0,106.858 0,181.353 0,220.61 22.86,255.945 59.337,280.594 49.767,294 36.4,304.212 21.124,309.968 c -1.919,0.723 -3.236,2.503 -3.364,4.55 -0.128,2.047 0.958,3.978 2.773,4.934 11.88,6.254 25.231,9.519 38.572,9.519 21.307,0 41.377,-8.301 56.401,-22.36 21.116,6.206 44.163,9.627 68.301,9.627 101.513,0 183.805,-60.39 183.805,-134.885 z"  id="path2" fill="'+this.gradA+'"  /> </g> </g> </g> </svg>'},this.sendIcon='<svg x="0px" y="0px" viewBox="0 0 30 30" width="30" height="30" xmlns="http://www.w3.org/2000/svg"><g id="send" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="ic_fluent_send_28_filled" fill="#212121" fill-rule="nonzero"><path d="M3.78963301,2.77233335 L24.8609339,12.8499121 C25.4837277,13.1477699 25.7471402,13.8941055 25.4492823,14.5168992 C25.326107,14.7744476 25.1184823,14.9820723 24.8609339,15.1052476 L3.78963301,25.1828263 C3.16683929,25.4806842 2.42050372,25.2172716 2.12264586,24.5944779 C1.99321184,24.3238431 1.96542524,24.015685 2.04435886,23.7262618 L4.15190935,15.9983421 C4.204709,15.8047375 4.36814355,15.6614577 4.56699265,15.634447 L14.7775879,14.2474874 C14.8655834,14.2349166 14.938494,14.177091 14.9721837,14.0981464 L14.9897199,14.0353553 C15.0064567,13.9181981 14.9390703,13.8084248 14.8334007,13.7671556 L14.7775879,13.7525126 L4.57894108,12.3655968 C4.38011873,12.3385589 4.21671819,12.1952832 4.16392965,12.0016992 L2.04435886,4.22889788 C1.8627142,3.56286745 2.25538645,2.87569101 2.92141688,2.69404635 C3.21084015,2.61511273 3.51899823,2.64289932 3.78963301,2.77233335 Z"  id="path2" fill="'+this.clientColor+'"></path> </g> </g></svg>',this.brandIcon='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50"><path d="m 39.56634,14.579155 c 0,8.048627 -6.526363,14.577073 -14.577072,14.577073 -8.050709,0 -14.577073,-6.528446 -14.577073,-14.577073 C 10.412195,6.5263637 16.938559,0 24.989268,0 33.039977,0 39.56634,6.5263637 39.56634,14.579155 Z m -3.327737,14.951912 c -3.136153,2.367733 -7.026149,3.790039 -11.249335,3.790039 -4.227351,0 -8.11943,-1.426471 -11.259748,-3.794204 C 5.2498287,33.260715 0,44.886972 0,49.978535 h 49.978535 c 0,-5.045749 -5.414341,-16.672006 -13.739932,-20.447468 z" fill="'+this.clientColor+'"/></svg>',this.responsesQueue=[];var i=function(s,c){s.push=function(l){Array.prototype.push.call(s,l),c(s)}};async function n(s){let c=t.querySelector(".bot-messages"),l=document.createElement("div");l.innerHTML=`
            <div class="typing">
                <div class="typing__dot"></div>
                <div class="typing__dot"></div>
                <div class="typing__dot"></div>
            </div>
            `,l.classList.add("messages-item","is-bot","is-typing"),c.data,c.querySelectorAll(".typing").length==0&&c.insertBefore(l,c.children[0]),c.scrollTop=c.scrollHeight,await new Promise(h=>setTimeout(()=>{var u=new q;let d=s.shift();if(d.text!==void 0){let p=u.render(d.text),m=document.createElement("div");m.innerHTML=p;let f=document.createElement("span"),v=new Date;f.textContent=v.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),m.appendChild(f),c.querySelectorAll(".is-typing").forEach(y=>y.remove()),m.classList.add("messages-item","is-bot"),c.insertBefore(m,c.children[0]),c.scrollTop=c.scrollHeight}if(d.attachment!==void 0){let p=document.createElement("div");p.classList.add("messages-item",type);let m=document.createElement("img");m.src=src,p.appendChild(m);let f=document.createElement("br"),v=document.createElement("span"),y=new Date;v.textContent=y.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),p.appendChild(f),p.appendChild(v),c.insertBefore(p,c.children[0]),c.scrollTop=c.scrollHeight}if(d.quick_replies!==void 0){let p=document.createElement("div");p.classList.add("messages-item"),p.classList.add("messages-quick-replies"),d.quick_replies.forEach(y=>{let w=document.createElement("button");w.innerHTML=y.title,w.classList.add("button"),w.addEventListener("click",E=>{let _=document.createElement("div");_.innerHTML=y.title;let C=document.createElement("span"),A=new Date;C.textContent=A.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),_.appendChild(C),_.classList.add("messages-item","is-client"),c.insertBefore(_,c.children[0]),c.scrollTop=c.scrollHeight,p.remove(),this.socket.emit("user_uttered",{message:y.payload})}),p.appendChild(w)});let m=document.createElement("br"),f=document.createElement("span"),v=new Date;f.textContent=v.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),p.appendChild(m),p.appendChild(f),c.insertBefore(p,c.children[0]),c.scrollTop=c.scrollHeight}},s[0].text!==void 0?s[0].text.split(" ").length*300:1200,s))}i(this.responsesQueue,function(s){n(s)}),t.innerHTML=`
        <style>
            .bot-container {
                position: fixed;
                bottom: 30px;
                right: 30px;
                font-family: 'Fredoka', sans-serif; 
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                border: 5px;
            }
            .bot-suport {
                display: flex;
                flex-direction: column;
                background: #f9f9f9;
                height: ${this.isMobile()?screen.height-100+"px":this.height+"px"};
                width: ${this.isMobile()?"100%":this.width+"px"};
                z-index: -123456;
                opacity: 0;
                transition: all .5s ease-in-out;
                box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
                border-top-left-radius: 20px;
                border-top-right-radius: 20px;
            }
            .bot-open {
                transform: translateY(-40px);
                z-index: 123456;
                opacity: 1;
            }
            .bot-button {
                text-align: right;
            }
            .bot-button button,
            .bot-button button:focus,
            .bot-button button:visited {
                padding: 10px;
                background: white;
                border: none;
                outline: none;
                border-top-left-radius: 50px;
                border-top-right-radius: 50px;
                border-bottom-left-radius: 50px;
                box-shadow: 0px 10px 15px rgba(0, 0, 0, 0.1);
                cursor: pointer;
            }
            .bot-header {
                position: sticky;
                top: 0;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                padding: 0.5rem;
                border-top-left-radius: 20px;
                border-top-right-radius: 20px;
                box-shadow: 0px 10px 15px rgba(0, 0, 0, 0.1);
                background: linear-gradient(93.12deg, ${this.gradA} 0.52%, ${this.gradB} 100%);
            }
            .bot-header div h1 {
                font-size: 1rem;
                color: white;

            }
            .bot-header div p {
                font-size: .9rem;
                color: white;
                
            }
            .bot-header-image {
                margin-right: 15px;                
            }
            .bot-header-image img {
                width:50px;
                height:50px;
            }
            .bot-messages {
                padding: 0px 20px 20px 20px;
                display: flex;
                flex-direction: column;
                overflow-y: scroll;
                overflow-x: hidden;
                flex-direction: column-reverse;
                background-color:#eee;
            }
            .messages-quick-replies {
                margin-top: 10px;
                margin: auto;
                border-radius: 20px;
                background-color:white;
            }
            .messages-quick-replies button {
                margin-left: 5px;
                margin-right: 5px;
                padding: 5px 10px 5px 10px;
                box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
            }
            .messages-item {
                width: fit-content;
                margin-top: 10px;
                padding: 8px 12px;
                font-size: medium;
                box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;
            }
            .messages-item img {
                width: 100%;
                height: auto;
            }
            .messages-item ul {
                margin-left: 5px;
                list-style-type: disc;
            }
            .messages-item ol {
                margin-left: 5px;
            }
            .messages-item a:link {
                font-style: italic;
                color:inherit;
            }
            .messages-item span{
                font-size: 0.7em;
                display:${this.showTime=="true"?"block":"none"};
                text-align: right;
            }
            .is-client {
                margin-left: auto;
                border-top-left-radius: 20px;
                border-top-right-radius: 20px;
                border-bottom-left-radius: 20px;
                color: ${this.clientColor};
                background-color:${this.bgClient};
            }
            .is-bot {
                margin-right: auto;
                border-top-left-radius: 20px;
                border-top-right-radius: 20px;
                border-bottom-right-radius: 20px;
                background-color:white;
            }
            .typing {
                position: relative;
              }
              .typing__dot {
                float: left;
                width: 8px;
                height: 8px;
                margin: 0 4px;
                background: #8d8c91;
                border-radius: 50%;
                opacity: 0;
                animation: loadingFade 1s infinite;
              }              
              .typing__dot:nth-child(1) {
                animation-delay: 0s;
              }              
              .typing__dot:nth-child(2) {
                animation-delay: 0.2s;
              }              
              .typing__dot:nth-child(3) {
                animation-delay: 0.4s;
              }
              @keyframes loadingFade {
                0% {
                  opacity: 0;
                  transform: translateY(0px);
                }
                50% {
                  opacity: 0.8;
                  transform: translateY(8px);
                }
                100% {
                  opacity: 0;
                  transform: translateY(0px);
                }
              }
            .bot-footer {
                position: sticky;
                bottom: 0;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                padding: 20px 20px;
                box-shadow: 0px -10px 15px rgba(0, 0, 0, 0.1);
                border-bottom-right-radius: 10px;
                border-bottom-left-radius: 10px;
                background: linear-gradient(93.12deg, ${this.gradB} 0.52%, ${this.gradA} 100%);
            }
            .bot-footer input {
                flex-grow:2;
                border: none;
                padding: 10px 10px;
                border-radius: 30px;
                text-align: left;
                width: 85%;
            }
            .bot-footer span {
                padding-left: 10px;
                font-size: 1.2rem;
                cursor: pointer; 
            }
            .bot-footer button {
                background-color: transparent;
                border: none;
                outline:none;
                cursor: pointer; 
            }
            .bot-footer:hover button {
                transform: translatex(4px);
            }
        </style>
         <div class="bot-container">
            <div class="bot-suport">
                <div class="bot-header">
                    <div class="bot-header-image">
                        ${this.brandAvatar!="default"?`<img src="${this.brandAvatar}"/>`:this.brandIcon}
                    </div>
                    <div class="bot-header-content">
                        <h1>${this.brand}</h1>
                        ${this.isMobile()===!1?`<p>${this.slogan}</p>`:""}
                        
                    </div>
                </div>
                <div class="bot-messages">
                </div>
                <form class="bot-footer">
                    <input type="text" placeholder="${this.lan.substring(0,2)in kt?kt[this.lan.substring(0,2)]:kt.en}"/>
                    <span>&#128512</span>
                    <button>${this.sendIcon}</button>
                </form>
            </div>
            <div class="pickerContainer"></div>
            <div class="bot-button">
                <button>${this.icons.isNotClicked}</button>
            </div>
        </div>
        `,this.botSuport=t.querySelector(".bot-suport"),this.botHeader=t.querySelector(".bot-header"),this.botMesagges=t.querySelector(".bot-messages"),this.botFooter=t.querySelector(".bot-footer"),this.bootImput=t.querySelector("form.bot-footer input"),this.emojiButton=t.querySelector("form.bot-footer span"),this.botButton=t.querySelector(".bot-button");let r=this.botSuport.offsetHeight-this.botHeader.offsetHeight-this.botFooter.offsetHeight;this.botMesagges.style.height=r.toString()+"px",this.isOpen=="open"&&(this.botSuport.classList.add("bot-open"),this.botButton.children[0].innerHTML=this.icons.isClicked,this.open=!0,this.onLine===!1&&this.openSocket()),this.botFooter.addEventListener("submit",s=>{s.preventDefault();let c=this.bootImput.value;c&&(this.socket.emit("user_uttered",{session_id:this.uuid,message:c}),this.bootImput.value="",this.appendMessage(c,this.botMesagges))});var o={showPreview:!1,showRecents:!1,showSearch:!1,showVariants:!1,showCategoryTabs:!1,categories:["smileys-emotion"]};switch(this.lan.substring(0,2)){case"es":o.i18n=nr;break;case"fr":o.i18n=rr;case"pt":o.i18n=or;case"de":o.i18n=sr}this.emoji=="complete"&&(delete o.showSearch,delete o.showVariants,delete o.showCategoryTabs,delete o.categories);let a=ir(o,{referenceElement:this.emojiButton,triggerElement:this.emojiButton});this.emojiButton.addEventListener("click",s=>{s.stopPropagation(),a.toggle()}),a.addEventListener("emoji:select",s=>{this.bootImput.value=this.bootImput.value.concat(s.emoji)}),this.botButton.addEventListener("click",s=>this.toogleOpen(s))}};document.addEventListener("DOMContentLoaded",()=>{window.customElements.define("ai-widget",xt);let e=document.querySelector(".ai-widget"),t=document.createElement("ai-widget");for(let[i,n]of Object.entries(t.defaults))e.dataset[i]!=null?t.setAttribute(i,e.dataset[i]):t.setAttribute(i,n);e.append(t)});})();
/*!
 * ai-widget v1.0.0
 * (c) 2022 Antonio Fregoso - https://www.antoniofregoso.com/
 * Released under License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 */
